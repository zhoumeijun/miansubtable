(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1035:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=P(a(2)),r=P(a(38)),o=P(a(13)),l=P(a(3)),i=P(a(8)),u=P(a(4)),s=P(a(5)),d=P(a(195)),c=P(a(133)),m=P(a(895)),p=P(a(76));a(194),a(189),a(894),a(108);var f=a(1),h=P(f),g=P(a(0)),b=a(29),y=P(a(89)),v=P(a(27)),k=a(18),T=P(a(57)),w=P(a(974)),C=P(a(421)),x=a(941),D=a(995),E=a(1036),S=P(a(413));function P(e){return e&&e.__esModule?e:{default:e}}a(1037);var N=P(a(33)).default.base,M=N.NCDiv,R=N.NCButton,A=p.default.Option,K=m.default.TreeNode,_=c.default.Search,j=d.default.TabPane,V=function(e){function t(e){(0,l.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.reqAllowTreeData=function(){var e=a.state,t=e.orgidObj,n=e.nodeKeyValue,r=a.props,o=r.templatePk,l=r.pageCode,i=r.appCode,u=r.def1,s=r.json,d={pageCode:l,orgId:t.refpk,templateId:o,appCode:i};"apppage"===u?d.templateType="bill":"menuitem"===u&&(d.templateType="print",d.pageCode&&delete d.pageCode,d.pageCode=n),a.props.mobileInfoData&&(d=a.props.mobileInfoData),(0,v.default)({url:"/nccloud/platform/template/listAssignmentsOfTemplate.do",info:{name:s["10180TM-000002"],action:s["10180TM-000003"]},data:d,success:function(e){var t=e.data;t.success&&a.setState({allowDataArray:t.data},a.restoreAllowedTree)}})},a.restoreAllowedTree=function(){var e=a.state,t=e.allowDataArray,n=e.treeAllowedData;t.map(function(e){e.text=e.code+"  "+e.name,e.key=e.id}),n=(0,D.generateTreeData)(t),a.setState({treeAllowedData:n})},a.reqRoTreeData=function(){var e=a.state.orgidObj,t=a.props.json;if(e.refpk){var n={orgId:e.refpk};(0,v.default)({url:"/nccloud/platform/template/getAllRoleUserAndResp.do",info:{name:(0,k.langCheck)("10180TM-000004","pages",t),action:(0,k.langCheck)("10180TM-000005","pages",t)},data:n,success:function(e){var t=e.data;t.success&&t.data&&((t.data.roles||t.data.users||t.data.resps)&&(a.restoreRoTreeData(t.data),a.restoreResTreeData(t.data.resps)),a.props.setRoleUserDatas(t.data),a.reqAllowTreeData())}})}},a.restoreResTreeData=function(e){var t=a.state.treeResData,n=a.props.json;t=[],E.initAbiTreeData.text=(0,k.langCheck)("10180TM-000006","pages",n),E.initAbiTreeData2.text=(0,k.langCheck)("10180TM-000006","pages",n);var r=E.initAbiTreeData;e.map(function(e){var t=e.code,a=e.name;e.text=t+"  "+a,e.type="resp"}),r.children=e,t.push(r),t=(0,D.generateTreeData)(t),a.setState({treeResData:t})},a.restoreRoTreeData=function(e){var t=a.state.treeRoData,n=a.props.json;t=[],E.initRoTreeData.text=(0,k.langCheck)("10180TM-000007","pages",n),E.initUserTreeData.text=(0,k.langCheck)("10180TM-000008","pages",n),E.initRoTreeData2.text=(0,k.langCheck)("10180TM-000007","pages",n),E.initUserTreeData2.text=(0,k.langCheck)("10180TM-000008","pages",n);var r=E.initRoTreeData,o=E.initUserTreeData;e.roles.map(function(e){e.type="roles"}),e.users.map(function(e){e.type="users"}),r.children=(0,D.generateRoData)(e.roles),o.children=(0,D.generateRoData)(e.users),t.push(r),t.push(o),t=(0,D.generateTreeData)(t),a.setState({treeRoData:t})},a.selectRoFun=function(e){var t=a.state.roCheckedKeys,n=e.node.props.refData.id,o=t.indexOf(n);o>-1?t.splice(o,1):t.push(n),a.setState({roCheckedKeys:[].concat((0,r.default)(t))},a.lookCheckDataFun)},a.arrayUnique=function(e){for(var t=[],a=0,n=e.length;a<n;a++){for(var r=a+1;r<n;r++)e[a].id==e[r].id&&++a;t.push(e[a])}return t},a.allowClick=function(e){var t=a.state,n=t.allowDataArray,r=t.treeAllowedData,o=t.allowedCheckedKeys,l=a.props,i=l.roCheckedObjArray,u=l.json;switch(e){case"allowRole":if(i&&0===i.length)return void(0,T.default)({status:"warning",msg:(0,k.langCheck)("10180TM-000009","pages",u)});n=n.concat(i),n=a.arrayUnique(n),r=(0,D.generateTreeData)(n);break;case"allowRoleCancel":if(o&&0===o.length)return void(0,T.default)({status:"warning",msg:(0,k.langCheck)("10180TM-000009","pages",u)});Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};for(var s=o.length-1;s>=0;s--)for(var d=0;d<n.length;d++)o[s]&&n[d].id===o[s]&&n.remove(n[d]);r=(0,D.generateTreeData)(n)}a.setState({treeAllowedData:r,allowDataArray:n,allowedCheckedKeys:o})},a.onSelectedAllow=function(e){var t=a.state.allowedCheckedKeys,n=e.node.props.refData.id,o=t.indexOf(n);o>-1?t.splice(o,1):t.push(n),a.setState({allowedCheckedKeys:[].concat((0,r.default)(t))})},a.onSelect=function(e,t){switch(e){case"resOnselect":a.selectRoFun(t);break;case"allowedOnselect":a.onSelectedAllow(t)}},a.hanldeDoubleClick=function(e,t){var n=void 0,r=[];switch(e){case"resOnselect":n=t.props.refData.key,r=a.state.expandedKeys.concat([n]),a.setState({expandedKeys:r})}},a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.onSearch=function(e){var t=e.target.value,n=a.state.tabActiveKey,r=a.props.roleUserDatas,o=[],l=[],i=[];if("1"===n)if(t){for(var u in r)r.hasOwnProperty(u)&&("users"!==u&&"roles"!==u||r[u].map(function(e){e.text=e.code+"  "+e.name,e.text.indexOf(t)>-1&&(o.push(e.key),l.push(e))}));l.map(function(e){e.key=e.id});var s=y.default.cloneDeep(E.initRoTreeData2),d=y.default.cloneDeep(E.initUserTreeData2);l.map(function(e){"roles"===e.type?s.children.push(e):"users"===e.type&&d.children.push(e)}),i.push(s),i.push(d),i=(0,D.generateTreeData)(i),o.push("abc1234567"),o.push("abc2234567"),a.setState({expandedKeys:o,roleSearchValue:t,autoExpandParent:!0,treeRoData:i})}else a.restoreRoTreeData(r),a.setState({roleSearchValue:t,expandedKeys:[]});else if("2"===n)if(t){for(var c in r)r.hasOwnProperty(c)&&"resps"===c&&r[c].map(function(e){e.text=e.code+"  "+e.name,e.text.indexOf(t)>-1&&(o.push(e.key),l.push(e))});var m=y.default.cloneDeep(E.initAbiTreeData2);m.children=l,i.push(m),i=(0,D.generateTreeData)(i),o.push("abc3334567"),a.setState({expandedKeys:o,respSearchValue:t,autoExpandParent:!1,treeResData:i})}else a.restoreResTreeData(r.resps),a.setState({respSearchValue:t})},a.onCheck=function(e,t){switch(e){case"resOnselect":a.onCheckRoFun(t);break;case"allowedOnselect":a.onCheckAllowedFun(t)}},a.onCheckRoFun=function(e){a.setState({roCheckedKeys:e},a.lookCheckDataFun)},a.lookCheckDataFun=function(){var e=a.state.roCheckedKeys,t=a.props.roleUserDatas,n=e.filter(function(e){return"abc1234567"!==e&&"abc2234567"!==e&&"abc3334567"!==e}),r=[];n.map(function(e){var a={},n=function(n){t[n].map(function(t){t.id===e&&(a.key=t.id,a.id=t.id,a.pk=t.id,a.text=t.code+"  "+t.name,a.code=t.code,"users"===n?a.type="user":"roles"===n?a.type="role":"resps"===n&&(a.type="resp"))})};for(var o in t)n(o);r.push(a)}),a.props.setRoCheckedObjArray(r)},a.onCheckAllowedFun=function(e){a.setState({allowedCheckedKeys:e})},a.handleSearchDel=function(){var e=a.state.tabActiveKey,t=a.props.roleUserDatas;switch(e){case"1":a.restoreRoTreeData(t),a.setState({roleSearchValue:"",expandedKeys:[]});break;case"2":a.restoreResTreeData(t.resps),a.setState({respSearchValue:"",expandedKeys:[]})}},a.treeResAndUser=function(e,t,n,r,o,l){var i=a.state,u=i.expandedKeys,s=i.autoExpandParent,d=a.props.json;return h.default.createElement("div",{className:o||""},n?"":h.default.createElement("div",{className:"fixed-search-input"},h.default.createElement(_,{style:{marginBottom:8},placeholder:(0,k.langCheck)("10180TM-000010","pages",d),onChange:a.onSearch,value:r,suffix:r.length>0?h.default.createElement("i",{className:"iconfont icon-qingkong",onClick:function(){a.handleSearchDel()}}):"",fieldid:"search"})),e.length>0&&h.default.createElement(M,{fieldid:n?"allocationRight":"allocationLeft",areaCode:M.config.TreeCom},h.default.createElement(m.default,{showLine:!0,showIcon:!0,checkable:!0,onExpand:a.onExpand,expandedKeys:u,onSelect:function(e,n){a.onSelect(t,n)},autoExpandParent:s,onDoubleClick:function(e,n){a.hanldeDoubleClick(t,n)},onCheck:function(e){a.onCheck(t,e)},checkedKeys:l},function e(a){return a.map(function(a){var n=a.text,o=a.id,l=void 0;if("resOnselect"===t){var i=n.indexOf(r),u=n.substr(0,i),s=n.substr(i+r.length);l=i>-1?h.default.createElement("span",null,u,h.default.createElement("span",{style:{color:"#f50"}},r),s):h.default.createElement("span",null,h.default.createElement("span",null," ",n," "))}else"allowedOnselect"===t&&(l=n);var d=a.children?"fieldid_"+n+"_node":"fieldid_"+a.code+"_node";return a.children&&a.children.length>0?h.default.createElement(K,{key:o,title:l,refData:a,icon:function(e){var t=e.expanded;return h.default.createElement(C.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return h.default.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},className:d},e(a.children)):h.default.createElement(K,{icon:h.default.createElement("span",{className:"tree-dot"}),key:o,title:l,refData:a,className:d})})}(e))))},a.handleAlloOk=function(){var e=a.state,t=e.treeAllowedData,r=e.orgidObj,o=e.nodeKeyValue,l=a.props,i=l.templatePk,u=l.appCode,s=l.pageCode,d=l.def1,c=l.json;if(r.refpk)if(t){for(var m={},p=0;p<t.length;p++){var f=t[p];for(var h in f)"id"===h&&(m[f[h]]=f.type)}var g="";for(var b in m)g=g+(b+":")+m[b]+",";var y=g.length;g=g.substr(0,y-1);var w={pageCode:s,templateId:i,orgId:r.refpk,appCode:u};w.targets=g,"apppage"===d?w.templateType="bill":"menuitem"===d&&(w.templateType="print",w.pageCode&&delete w.pageCode,o&&(w.pageCode=o)),a.props.mobileInfoData&&(w=(0,n.default)({},w,a.props.mobileInfoData)),(0,v.default)({url:"/nccloud/platform/template/assignTemplate.do",data:w,loading:!0,info:{name:(0,k.langCheck)("10180TM-000012","pages",c),action:(0,k.langCheck)("10180TM-000013","pages",c)},success:function(e){var t=e.data;t.success&&((0,T.default)({status:"success",msg:t.msg}),localStorage.removeItem("appTempletStorage_"+u+"_"+s),a.props.setAssignModalVisible(!1))}})}else(0,T.default)({status:"warning",msg:(0,k.langCheck)("10180TM-000009","pages",c)});else(0,T.default)({status:"error",msg:(0,k.langCheck)("10180TM-000011","pages",c)})},a.handleOrlCancel=function(){a.props.setAssignModalVisible(!1)},a.handdleRefChange=function(e){var t=a.state.orgidObj,n=e.refname,r=e.refcode,o=e.refpk;t.refname=n,t.refcode=r,t.refpk=o,a.setState({orgidObj:t},a.reqRoTreeData)},a.state={expandedKeys:[],roleSearchValue:"",respSearchValue:"",autoExpandParent:!1,nodeKeyValue:a.props.nodeKey&&a.props.nodeKey.length>0?a.props.nodeKey[0]:"",treeRoData:[],treeResData:[],roCheckedKeys:[],allowedCheckedKeys:[],allowDataArray:[],treeAllowedData:[],orgidObj:{refcode:"",refname:window.GETBUSINESSINFO().groupName,refpk:window.GETBUSINESSINFO().groupId},tabActiveKey:"1",json:{}},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.state.orgidObj.refpk&&this.reqRoTreeData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.orgidObj,n=t.treeRoData,r=t.treeResData,o=t.treeAllowedData,l=t.tabActiveKey,i=t.roleSearchValue,u=t.respSearchValue,s=t.allowedCheckedKeys,c=t.roCheckedKeys,m=this.props,f=m.pageCode,g=m.def1,b=m.nodeKey,y=m.json,v=m.mobileInfoData;return h.default.createElement(S.default,{dialogClassName:"allocation-modal",title:(0,k.langCheck)("10180TM-000014","pages",y),visible:this.props.alloVisible,onOk:this.handleAlloOk,onCancel:this.handleOrlCancel,okText:(0,k.langCheck)("10180TM-000015","pages",y),cancelText:(0,k.langCheck)("10180TM-000016","pages",y),width:720,maskClosable:!1,keyboard:!0,centered:!0,fieldid:"allocation"},h.default.createElement("div",{className:"allocationPage"},h.default.createElement("div",{className:"pageCode-show"},h.default.createElement("p",{className:"pageCodeName"},(0,k.langCheck)("10180TM-000017","pages",y),h.default.createElement("span",null,f||v&&v.pageCode)),"menuitem"===g&&h.default.createElement("div",null,h.default.createElement("label",{htmlFor:""},(0,k.langCheck)("10180TM-000018","pages",y)),h.default.createElement(p.default,{showSearch:!0,style:{width:200},placeholder:(0,k.langCheck)("10180TM-000019","pages",y),optionFilterProp:"children",onSelect:function(t){e.setState({nodeKeyValue:t},function(){e.reqAllowTreeData()})},defaultValue:null==b?"":b[0],filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},b&&b.length>0&&b.map(function(e,t){if(e)return h.default.createElement(A,{value:e},e)})))),h.default.createElement("div",{className:"allocationPage-content"},h.default.createElement("div",{className:"allocationPage-content-tree"},h.default.createElement("div",{className:"allocation-treeCom"},h.default.createElement(d.default,{defaultActiveKey:"1",activeKey:l,renderTabBar:function(e,t){return h.default.createElement(M,{areaCode:M.config.TABS}," ",h.default.createElement(t,e))},onChange:function(t){e.setState({tabActiveKey:t})}},h.default.createElement(j,{tab:(0,k.langCheck)("10180TM-000020","pages",y),key:"1"},h.default.createElement(M,{className:"allocation-treeScrollName",fieldid:"allocationUser",areaCode:M.config.TREE},this.treeResAndUser(n,"resOnselect",null,i,"searchTree-assign",c))),h.default.createElement(j,{tab:(0,k.langCheck)("10180TM-000006","pages",y),key:"2"},h.default.createElement(M,{className:"allocation-treeScrollName",fieldid:"allocationDuty",areaCode:M.config.TREE},this.treeResAndUser(r,"resOnselect",null,u,"searchTree-assign",c))))),h.default.createElement("div",{className:"allocation-button"},h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement("p",null,h.default.createElement(R,{fieldid:"toRight",onClick:this.allowClick.bind(this,"allowRole")},h.default.createElement("i",{className:"icon iconfont icon-jiantouyou"}))),h.default.createElement("p",null,h.default.createElement(R,{fieldid:"toLeft",onClick:this.allowClick.bind(this,"allowRoleCancel")},h.default.createElement("i",{className:"icon iconfont icon-jiantouzuo"})))))),h.default.createElement("div",{className:"allocation-treeContainer"},h.default.createElement("div",{className:"allocation-select"},h.default.createElement("label",{htmlFor:""},(0,k.langCheck)("10180TM-000021","pages",y)),h.default.createElement(w.default,{value:a,placeholder:(0,k.langCheck)("10180TM-000022","pages",y),fieldid:"businessUnit",onChange:function(t){e.handdleRefChange(t)}})),h.default.createElement("div",{className:"allocation-tree"},o.length>0&&this.treeResAndUser(o,"allowedOnselect","hideSearch","","",s)))))))}}]),t}(f.Component);V.propTypes={templatePk:g.default.string.isRequired,roCheckedObjArray:g.default.array.isRequired,setRoCheckedObjArray:g.default.func.isRequired,nodeKey:g.default.array.isRequired,roleUserDatas:g.default.object.isRequired,setRoleUserDatas:g.default.func.isRequired,json:g.default.object.isRequired},t.default=(0,b.connect)(function(e){return{templatePk:e.TemplateSettingData.templatePk,pageCode:e.TemplateSettingData.pageCode,appCode:e.TemplateSettingData.appCode,def1:e.TemplateSettingData.def1,nodeKey:e.TemplateSettingData.nodeKey,roCheckedObjArray:e.TemplateSettingData.roCheckedObjArray,roleUserDatas:e.TemplateSettingData.roleUserDatas}},{setRoCheckedObjArray:x.setRoCheckedObjArray,setRoleUserDatas:x.setRoleUserDatas})(V)},1036:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initRoTreeData={id:"abc1234567",text:"",children:[]},t.initUserTreeData={id:"abc2234567",text:"",children:[]},t.initRoTreeData2={id:"abc1234567",text:"",children:[]},t.initUserTreeData2={id:"abc2234567",text:"",children:[]},t.initAbiTreeData={id:"abc3334567",text:"",children:[]},t.initAbiTreeData2={id:"abc3334567",text:"",children:[]}},1037:function(e,t,a){var n=a(1038);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(16)(n,r);n.locals&&(e.exports=n.locals)},1038:function(e,t,a){(e.exports=a(14)(!1)).push([e.i,".allocation-modal .u-modal-body{padding:15px 0 0}.allocationPage .pageCode-show{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;margin:0 15px;padding:10px 20px;background-color:#f3f3f3}.allocationPage .pageCode-show .pageCodeName{margin-bottom:0}.allocationPage .allocationPage-content .allocationPage-content-select{display:flex;justify-content:space-between;padding:15px 20px;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.allocationPage .allocationPage-content .allocationPage-content-tree{display:flex;justify-content:space-between}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom{width:42%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .ant-tabs-bar{margin:0;padding:0 5px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName{height:330px;border-right:1px solid #e8e8e8;position:relative;padding-top:50px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName .searchTree-assign{overflow:auto;height:100%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName .searchTree-assign .fixed-search-input{position:absolute;top:0;left:0;padding:0 15px;width:100%;display:flex;background-color:#fff;z-index:1}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .allocation-treeScrollName .searchTree-assign .ant-tree{padding-left:15px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .ant-input-affix-wrapper{margin-bottom:8px;margin-top:8px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeCom .ant-input-affix-wrapper .ant-input{width:100%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button{padding-top:43px;width:16%}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button>div{border-top:1px solid #e8e8e8;display:flex;align-items:center;height:330px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button>div>div{width:100%;display:flex;flex-direction:column;justify-content:center}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button>div>div p{text-align:center;margin-bottom:30px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button>div>div .icon{color:rgba(85,85,85,.5)}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer{width:42%;display:flex;flex-direction:column}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer .allocation-select{padding:5px 0 8px;display:flex;align-items:center}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer .allocation-select .refer-wrapper{width:200px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer .allocation-tree{height:330px;border:1px solid #e8e8e8;border-right:0;border-bottom:0;overflow:auto}",""])},1039:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(133)),r=v(a(2)),o=v(a(13)),l=v(a(3)),i=v(a(8)),u=v(a(4)),s=v(a(5));a(189);var d=a(1),c=v(d),m=v(a(0)),p=a(29),f=a(941),h=v(a(413)),g=a(18),b=v(a(27)),y=v(a(57));function v(e){return e&&e.__esModule?e:{default:e}}a(1040);var k=function(e){function t(e){(0,l.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.trim=function(e){if(e)return e.replace(/^\s+|\s+$/g,"")},a.checkCode=function(){var e=a.props,t=e.json,n=e.templateTitleVal;if(!a.trim(n))return document.getElementById("templateCode").classList.add("has-error"),void a.setState({codeErrorMsg:(0,g.langCheck)("10180TM-000024","pages",t)});document.getElementById("templateCode").classList.remove("has-error"),a.setState({codeErrorMsg:""})},a.checkName=function(){var e=a.props,t=e.json,n=e.templateNameVal;if(!a.trim(n))return document.getElementById("templateName").classList.add("has-error"),void a.setState({nameErrorMsg:(0,g.langCheck)("10180TM-000023","pages",t)});a.setState({nameErrorMsg:""}),document.getElementById("templateName").classList.remove("has-error")},a.handleOk=function(){var e=a.props,t=e.def1,n=e.templatePk,o=e.pageCode,l=e.appCode,i=e.templateNameVal,u=e.templateTitleVal,s=e.setSelectedTemKeys,d=e.setParentIdcon,c=e.setTemplateNameVal,m=e.setTemplatePk,p=e.setTemplateTitleVal,f=e.setCopyId,h=e.setIsDefaultTem,v=e.json;if(a.trim(i)){var k={pageCode:o,templateId:n,name:i,appCode:l},T=void 0;if("apppage"===t)k.templateType="bill",T="/nccloud/platform/template/copyTemplate.do";else if("menuitem"===t){if(!a.trim(u))return;k.templateCode=u,T="/nccloud/platform/template/copyPrintTemplate.do"}a.props.mobileInfoData&&(T="/nccloud/platform/template/copyTemplate.do",k=(0,r.default)({},a.props.mobileInfoData,{name:i}));var w=a;(0,g.DeferFn)(function(){(0,b.default)({url:T,data:k,loading:!0,info:{name:(0,g.langCheck)("10180TM-000012","pages",v),action:(0,g.langCheck)("10180TM-000025","pages",v)},success:function(e){var a=e.data;a.success&&((0,y.default)({status:"success",msg:a.msg}),s([a.data.id]),d(a.data.id),c(a.data.name),m(a.data.id),f(a.data.id),h("n"),"menuitem"===t&&p(a.data.code),w.props.onCopy(a.data),w.handleCancel())}})})}},a.handleCancel=function(){a.props.setCopyVisible(!1)},a.state={nameErrorMsg:"",codeErrorMsg:""},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.nameErrorMsg,r=t.codeErrorMsg,o=this.props,l=o.def1,i=o.treeTemPrintData,u=o.templateTitleVal,s=o.templateNameVal,d=o.json;return c.default.createElement(h.default,{mask:!0,title:(0,g.langCheck)("10180TM-000046","pages",d),visible:this.props.visible,onOk:this.handleOk,okText:(0,g.langCheck)("10180TM-000015","pages",d),cancelText:(0,g.langCheck)("10180TM-000016","pages",d),centered:!0,onCancel:this.handleCancel,maskClosable:!1,fieldid:"copy"},c.default.createElement("div",{className:"copyTemplate",style:"apppage"===l?{padding:"60px 20px"}:{}},"menuitem"==l&&i.length>0&&c.default.createElement("div",{className:"templateCode"},c.default.createElement("label",{htmlFor:""},(0,g.langCheck)("10180TM-000027","pages",d)),c.default.createElement(n.default,{style:{width:"80%"},id:"templateCode",onBlur:this.checkCode,value:u,placeholder:(0,g.langCheck)("10180TM-000028","pages",d),fieldid:"templateCode",onChange:function(t){var a=t.target.value;e.props.setTemplateTitleVal(a)}}),c.default.createElement("p",{className:"areaCode-errorMsg"},r)),c.default.createElement("div",{className:"templateName"},c.default.createElement("label",{htmlFor:""},(0,g.langCheck)("10180TM-000029","pages",d)),c.default.createElement(n.default,{value:s,style:{width:"80%"},id:"templateName",onBlur:this.checkName,placeholder:(0,g.langCheck)("10180TM-000030","pages",d),fieldid:"templateName",onChange:function(t){var a=t.target.value;e.props.setTemplateNameVal(a)}}),c.default.createElement("p",{className:"areaName-errorMsg"},a))))}}]),t}(d.Component);k.propTypes={templatePk:m.default.string.isRequired,pageCode:m.default.string.isRequired,appCode:m.default.string.isRequired,def1:m.default.string.isRequired,templateTitleVal:m.default.string.isRequired,templateNameVal:m.default.string.isRequired,json:m.default.object.isRequired},t.default=(0,p.connect)(function(e){return{templatePk:e.TemplateSettingData.templatePk,pageCode:e.TemplateSettingData.pageCode,appCode:e.TemplateSettingData.appCode,def1:e.TemplateSettingData.def1,templateTitleVal:e.TemplateSettingData.templateTitleVal,templateNameVal:e.TemplateSettingData.templateNameVal,treeTemPrintData:e.TemplateSettingData.treeTemPrintData}},{setSelectedTemKeys:f.setSelectedTemKeys,setParentIdcon:f.setParentIdcon,setTemplateNameVal:f.setTemplateNameVal,setTemplatePk:f.setTemplatePk,setTemplateTitleVal:f.setTemplateTitleVal,setCopyId:f.setCopyId,setIsDefaultTem:f.setIsDefaultTem})(k)},1040:function(e,t,a){var n=a(1041);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(16)(n,r);n.locals&&(e.exports=n.locals)},1041:function(e,t,a){(e.exports=a(14)(!1)).push([e.i,".copyTemplate{padding:35px 20px}.copyTemplate .ant-input{margin-bottom:20px}.copyTemplate .templateCode,.copyTemplate .templateName{position:relative}.copyTemplate .areaCode-errorMsg,.copyTemplate .areaName-errorMsg{color:#f5222d;font-size:13px;position:absolute;top:30px;left:65px}.copyTemplate .has-error{border-color:#f5222d}",""])},1042:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2)),r=o(a(191));function o(e){return e&&e.__esModule?e:{default:e}}t.handleDownload=function(e,t,a,o){var l="null-"+(window.actionName||null),i=e.appcode,u={sys_busiaction:l,sys_appcode:i,sys_ts:(new Date).getTime()};a=function(e){switch(a){case 1:return"multipart/form-data";case 2:return"application/x-www-form-urlencoded";case 3:return"text/plain";default:return"multipart/form-data"}}();var s=[{target:o||"_blank",method:"POST",enctype:a,type:"hidden",action:t||""},document.createElement("form")],d=s[0],c=s[1];(0,r.default)(c,d);var m=(0,n.default)({},e,u),p=function(e){if(m[e]instanceof Array)m[e].forEach(function(t,a){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=t,c.appendChild(n)});else{var t=document.createElement("input");t.type="hidden",t.name=e,t.value=m[e],c.appendChild(t)}};for(var f in m)p(f);return document.body.appendChild(c),c.submit(),document.body.removeChild(c),!1}},1043:function(e,t,a){e.exports=a.p+"images/noPage.png"},1044:function(e,t,a){e.exports=a.p+"images/noPrint.png"},1045:function(e,t,a){e.exports=a.p+"images/unSelected.png"},1074:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(895));a(894);var r=o(a(421));function o(e){return e&&e.__esModule?e:{default:e}}var l=n.default.TreeNode;t.default=function e(t,a){return t.map(function(t){var n=t.code,o=t.name,i=t.pk,u=n+" "+o;"00"===n&&(u=""+o);var s=u.indexOf(a),d=u.substr(0,s),c=u.substr(s+a.length),m=s>-1?React.createElement("span",null,d,React.createElement("span",{style:{color:"#f50"}},a),c):React.createElement("span",null,React.createElement("span",null," ",u," ")),p="00"===n?"fieldid_"+o+"_node":"fieldid_"+n+"_node";return t.children&&t.children.length>0?React.createElement(l,{key:i,title:m,refData:t,icon:function(e){var t=e.expanded;return React.createElement(r.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return React.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},className:p},e(t.children,a)):React.createElement(l,{icon:React.createElement("span",{className:"tree-dot"}),key:i,title:m,refData:t,className:p})})}},1259:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(895)),r=y(a(13)),o=y(a(3)),l=y(a(8)),i=y(a(4)),u=y(a(5)),s=y(a(133));a(894),a(189);var d=a(1),c=y(d),m=y(a(0)),p=a(29),f=a(941),h=a(897),g=a(18),b=y(a(1074));function y(e){return e&&e.__esModule?e:{default:e}}var v=y(a(33)).default.base.NCDiv,k=s.default.Search,T=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.onExpand=function(e){a.props.setExpandedKeys(e),a.setState({autoExpandParent:!1})},a.onChange=function(e){var t=e.target.value;if(t)a.props.setSearchValue(t);else{a.props.reqTreeData(a.props.setInforFun);a.props.setExpandedKeys(["00"]),a.props.setSearchValue("")}},a.handleTreeSearch=function(e){a.props.handleSearch(e,a.props.handleExpanded)},a.onSelectQuery=function(e,t){var n=a.props.selectedKeys;e.length>0?(a.props.setSelectedKeys(e),a.props.setDef1(t.selectedNodes[0].props.refData.def1),a.props.setAppCode(t.selectedNodes[0].props.refData.appCode),a.props.setPageCode(t.selectedNodes[0].props.refData.code),a.setState({autoExpandParent:!0},a.props.onSelect)):n&&a.props.onSelect()},a.hanldeDoubleClick=function(e){var t,n;t=e.props.refData.pk,n=a.props.expandedKeys.concat([t]),a.props.setExpandedKeys(n)},a.handleSearchDel=function(){a.props.reqTreeData(a.props.setInforFun);a.props.setExpandedKeys(["00"]),a.props.setSearchValue("")},a.state={autoExpandParent:!1},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.autoExpandParent,a=this.props,r=a.expandedKeys,o=a.selectedKeys,l=a.searchValue,i=a.json,u=[{code:"00",name:(0,g.langCheck)("10180TM-000000","pages",i),pk:"00",children:(0,h.createTree)(this.props.treeData,"code","pid")}];return c.default.createElement(v,{className:"templateSetting-searchTree workbench-scroll",fieldid:"templateSetting",areaCode:v.config.TREE},c.default.createElement("div",{className:"fixed-search-input"},c.default.createElement(k,{className:l&&"sider-search-color",placeholder:(0,g.langCheck)("10180TM-000001","pages",i),onChange:this.onChange,onSearch:this.handleTreeSearch,value:l,suffix:l.length>0?c.default.createElement("i",{className:"iconfont icon-qingkong",onClick:this.handleSearchDel}):"",fieldid:"search"})),c.default.createElement(v,{fieldid:"templateSetting",areaCode:v.config.TreeCom},u.length>0&&c.default.createElement(n.default,{showLine:!0,showIcon:!0,onExpand:function(t,a){e.onExpand(t,a)},expandedKeys:r,onSelect:function(t,a){e.onSelectQuery(t,a)},autoExpandParent:t,selectedKeys:o,onDoubleClick:function(t,a){e.hanldeDoubleClick(a)}},(0,b.default)(u,l))))}}]),t}(d.Component);T.propTypes={treeData:m.default.array.isRequired,setExpandedKeys:m.default.func.isRequired,setSelectedKeys:m.default.func.isRequired,setDef1:m.default.func.isRequired,setTreeTemPrintData:m.default.func.isRequired,setSearchValue:m.default.func.isRequired,setPageCode:m.default.func.isRequired,setAppCode:m.default.func.isRequired,selectedKeys:m.default.array.isRequired,expandedKeys:m.default.array.isRequired,searchValue:m.default.string.isRequired,pageCode:m.default.string.isRequired,json:m.default.object.isRequired},t.default=(0,p.connect)(function(e){return{treeData:e.TemplateSettingData.treeData,selectedKeys:e.TemplateSettingData.selectedKeys,expandedKeys:e.TemplateSettingData.expandedKeys,searchValue:e.TemplateSettingData.searchValue,json:e.TemplateSettingData.json}},{setExpandedKeys:f.setExpandedKeys,setSelectedKeys:f.setSelectedKeys,setDef1:f.setDef1,setSearchValue:f.setSearchValue,setPageCode:f.setPageCode,setAppCode:f.setAppCode})(T)},1260:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(13)),r=m(a(3)),o=m(a(8)),l=m(a(4)),i=m(a(5)),u=a(1),s=m(u),d=a(29),c=m(a(1261));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.dataSource;return e.length>0?s.default.createElement("div",{className:"templateTree-wrap"},s.default.createElement("p",{className:"template-title"},this.props.langDataTitle),s.default.createElement(c.default,{dataSource:e,onSelectQuery:this.props.onSelectQuery})):s.default.createElement("div",{className:"print"===this.props.type?"noPrintData":"noPageData"},s.default.createElement("p",{className:"noDataTip"},this.props.langNoDataTitle))}}]),t}(u.Component);p.propTypes={},t.default=(0,d.connect)(function(e){return{}},{})(p)},1261:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(895)),r=h(a(13)),o=h(a(3)),l=h(a(8)),i=h(a(4)),u=h(a(5));a(894);var s=a(1),d=h(s),c=h(a(0)),m=a(29),p=a(941),f=h(a(1074));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.onExpand=function(e){a.props.setExpandedTemKeys(e),a.setState({autoExpandTemParent:!1})},a.hanldeDoubleClick=function(e){var t=e.props.refData.pk,n=a.props.expandedTemKeys.concat([t]);a.props.setExpandedTemKeys(n)},a.onExpand=function(e){a.props.setExpandedTemKeys(e),a.setState({autoExpandTemParent:!1})},a.onSelect=function(e,t){a.props.onSelectQuery(e,t)},a.state={autoExpandTemParent:!1},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.autoExpandTemParent,a=this.props,r=a.dataSource,o=a.expandedTemKeys,l=a.selectedTemKeys;return d.default.createElement("div",{className:"templateTree",style:1==r.length?{marginLeft:0}:{}},r.length>0&&d.default.createElement(n.default,{showLine:!0,showIcon:!0,onExpand:function(t,a){e.onExpand(t,a)},expandedKeys:o,onSelect:function(t,a){e.onSelect(t,a)},autoExpandParent:t,selectedKeys:l,onDoubleClick:function(t,a){e.hanldeDoubleClick(a)}},(0,f.default)(r,"")))}}]),t}(s.Component);g.propTypes={setSelectedTemKeys:c.default.func.isRequired,setExpandedTemKeys:c.default.func.isRequired,setTemplateNameVal:c.default.func.isRequired,selectedTemKeys:c.default.array.isRequired,expandedTemKeys:c.default.array.isRequired},t.default=(0,m.connect)(function(e){return{selectedTemKeys:e.TemplateSettingData.selectedTemKeys,expandedTemKeys:e.TemplateSettingData.expandedTemKeys}},{setSelectedTemKeys:p.setSelectedTemKeys,setExpandedTemKeys:p.setExpandedTemKeys})(g)},1262:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=T(a(2)),r=T(a(137)),o=T(a(110)),l=T(a(13)),i=T(a(3)),u=T(a(8)),s=T(a(4)),d=T(a(5)),c=T(a(133)),m=T(a(895));a(189),a(894);var p=a(1),f=T(p),h=T(a(0)),g=a(29),b=a(18),y=T(a(27)),v=T(a(57)),k=T(a(413));function T(e){return e&&e.__esModule?e:{default:e}}var w=T(a(33)).default.base,C=w.NCDiv,x=w.NCButton,D=m.default.TreeNode,E=c.default.Search,S=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.trim=function(e){if(e)return e.replace(/^\s+|\s+$/g,"")},a.checkName=function(){var e=a.props,t=e.json,n=(e.templateNameVal,a.state.templateName);if(!a.trim(n))return document.getElementById("templateName").classList.add("has-error"),void a.setState({nameErrorMsg:(0,b.langCheck)("10180TM-000023","pages",t)});a.setState({nameErrorMsg:""}),document.getElementById("templateName").classList.remove("has-error")},a.isPartSelectedLeft=function(){var e=a.state,t=e.checkedKeys,n=e.saveLeafArr,l=e.requestLeftTreeData,i=e.treeData,u=[],s=[],d=[],c=[];console.log("checkedKeys----",t),console.log("saveLeafArr----",n),console.log("requestLeftTreeData----",l);var m=t,p=(0,b.deepClone)(i),f=(0,b.deepClone)(l);t.length>0&&(t.map(function(e){p.map(function(t){t.children.map(function(a){e==a.pk&&m.push(t.pk)})})}),(m=(0,o.default)(new r.default(m))).map(function(e){f.map(function(t){e==t.pk&&u.push(t)})}),console.log("checkedArr----",u),u.map(function(e){e.isleaf?(e.children=[],c.push(e)):(e.children=[],d.push(e))}),d.map(function(e){c.map(function(t){e.code==t.pid&&e.children.push(t)})}),s=d,console.log("checkedTree----",s),a.setState({rightTreeData:s,rightCheckedKeys:[]}))},a.isPartSelectedRight=function(){var e=a.state,t=e.rightCheckedKeys,n=e.rightTreeData,r=(0,b.deepClone)(n);t.length>0&&(t.map(function(e){r.map(function(t,a){e==t.pk?r.splice(a,1):t.children.map(function(a,n){e==a.pk&&t.children.splice(n,1)})})}),console.log("partRightTreeArr---",r),a.setState({rightTreeData:r}))},a.isAllSelectedLeft=function(){console.log("this.state.saveLeafArr",a.state.saveLeafArr),a.setState({rightTreeData:a.state.treeData,rightCheckedKeys:[]})},a.isAllSelectedRight=function(){a.setState({rightTreeData:[],rightCheckedKeys:[]})},a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.onCheck=function(e){a.setState({checkedKeys:e})},a.onRightCheck=function(e){a.setState({rightCheckedKeys:e})},a.onSelect=function(e,t){a.setState({selectedKeys:e})},a.renderTreeNodes=function(e){return e.map(function(e){var t=a.state.searchValue,r=e.name,o=(e.pk,void 0);if(""!=t){var l=r.indexOf(t),i=r.substr(0,l),u=r.substr(l+t.length);o=l>-1?f.default.createElement("span",null,i,f.default.createElement("span",{style:{color:"#f50"}},t),u):f.default.createElement("span",null,f.default.createElement("span",null," ",r," "))}else o=r;var s="fieldid_"+r+"_node";return e.children?f.default.createElement(D,{title:o,key:e.pk,dataRef:e,className:s},a.renderTreeNodes(e.children)):f.default.createElement(D,(0,n.default)({},e,{className:s}))})},a.rightRenderTreeNodes=function(e){return e.map(function(e){var t="fieldid_"+e.name+"_node";return e.children?f.default.createElement(D,{title:e.name,key:e.pk,dataRef:e,className:t},a.renderTreeNodes(e.children)):f.default.createElement(D,e)})},a.handleOk=function(){var e=a.props,t=e.templatePk,n=(e.pageCode,e.appCode,e.def1,e.templateTitleVal,e.templateNameVal,e.json),r=a.state,o=r.templateName,l=r.rightTreeData;if(""!=o){var i=(0,b.deepClone)(l);i.map(function(e){e.children.map(function(e){e.pageCode=e.code,delete e.appId,delete e.appCode,delete e.pk,delete e.name,delete e.pid,delete e.isleaf,delete e.children,delete e.code}),e.pageCodes=e.children,delete e.appId,delete e.pk,delete e.code,delete e.name,delete e.pid,delete e.isleaf,delete e.children});var u={templateId:t,templateName:o,templateType:"bill",appAndPageCodes:i},s=a;(0,b.DeferFn)(function(){(0,y.default)({url:"/nccloud/platform/template/copyTemplateToOtherAppsAction.do",data:u,loading:!0,info:{name:(0,b.langCheck)("10180TM-000012","pages",n),action:(0,b.langCheck)("10180TM-000025","pages",n)},success:function(e){var t=e.data;t.success&&((0,v.default)({status:"success",msg:t.data}),s.props.reqTreeTemData("copyOthersApp"),s.handleCancel())}})})}},a.handleCancel=function(){a.props.setCopyOthersVisible(!1)},a.onChangeTemplateName=function(e){a.setState({templateName:e.target.value})},a.searchOnChange=function(e){var t=e.target.value;a.setState({searchValue:t});var n=a.state,r=(n.treeData,n.searchTreeDataSave),o=n.requestLeftTreeData;if(""!=t){var l=(0,b.deepClone)(o).filter(function(e){return e.isleaf?e.name.indexOf(t)>-1?e:void 0:e}),i=[],u=[];l.map(function(e){e.children=[],e.isleaf?u.push(e):i.push(e)}),i.map(function(e){u.map(function(t){e.code==t.pid&&e.children.push(t)})});var s=i.filter(function(e){if(e.children.length>0)return e});console.log("newTree=------------",s);var d=(0,b.deepClone)(s);a.setState({treeData:d})}else a.setState({treeData:r})},a.state={nameErrorMsg:"",templateName:a.props.templateNameVal,treeData:[],searchTreeDataSave:[],selectedKeys:[],checkedKeys:[],expandedKeys:[],autoExpandParent:!1,saveLeafArr:[],generateRightTreeData:[],rightTreeData:[],rightCheckedKeys:[],requestLeftTreeData:[],searchValue:""},a}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,a=t.appCode,n=t.json;this.state.requestLeftTreeData;(0,y.default)({data:{appCode:a},url:"/nccloud/platform/template/queryAppAndPagesAction.do",loading:!0,info:{name:(0,b.langCheck)("10180TM-000012","pages",n),action:(0,b.langCheck)("10180TM-000055","pages",n)},success:function(t){var a=t.data;if(a.success){var n=[],r=[],o=(0,b.deepClone)(a.data);a.data.map(function(e){e.isleaf?(e.children=[],r.push(e)):(e.children=[],n.push(e))}),console.log("isAllRootNode",n),console.log("isAllLeafNode",r),n.map(function(e){r.map(function(t){e.code==t.pid&&e.children.push(t)})}),console.log("isAllRootNode====",n),console.log("isAllLeafNode====",r),e.setState({treeData:n,searchTreeDataSave:n,saveLeafArr:r,requestLeftTreeData:o})}}})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.templateNameVal,a=e.json;console.log("templateNameVal",t);var n=this.state,r=n.templateName,o=n.treeData,l=(n.selectedKeys,n.checkedKeys,n.expandedKeys,n.autoExpandParent),i=n.rightTreeData,u=(n.rightCheckedKeys,n.nameErrorMsg);return f.default.createElement(k.default,{mask:!0,title:(0,b.langCheck)("10180TM-000055","pages",a),visible:this.props.copyOthersModalVisible,onOk:this.handleOk,okText:(0,b.langCheck)("10180TM-000015","pages",a),cancelText:(0,b.langCheck)("10180TM-000016","pages",a),centered:!0,onCancel:this.handleCancel,maskClosable:!1,width:720,className:"copy-others-moudle",fieldid:"copyOther"},f.default.createElement("div",{className:"copy-others-modal-top"},f.default.createElement("div",{className:"copy-others-modal-header"},(0,b.langCheck)("10180TM-000057","pages",a)),f.default.createElement(c.default,{className:"copy-others-input",style:{width:"45%"},placeholder:(0,b.langCheck)("10180TM-000030","pages",a),defaultValue:t,onChange:this.onChangeTemplateName,id:"templateName",fieldid:"templateName",value:r,onBlur:this.checkName}),f.default.createElement("p",{className:"areaName-errorMsg"},u)),f.default.createElement("div",{className:"copy-others-modal-bottom"},f.default.createElement(C,{className:"left",fieldid:"left",areaCode:C.config.TREE},f.default.createElement("div",{className:"title"},(0,b.langCheck)("10180TM-000058","pages",a)),f.default.createElement(E,{className:"search",fieldid:"search",onChange:this.searchOnChange}),f.default.createElement(C,{className:"leftTree",fieldid:"left",areaCode:C.config.TreeCom},f.default.createElement(m.default,{checkable:!0,checkStrictly:!1,loadData:this.onLoadData,showLine:!0,multiple:!0,autoExpandParent:l,onExpand:this.onExpand,expandedKeys:this.state.expandedKeys,onSelect:this.onSelect,selectedKeys:this.state.selectedKeys,checkedKeys:this.state.checkedKeys,onCheck:this.onCheck},this.renderTreeNodes(o)))),f.default.createElement("div",{className:"middle"},f.default.createElement("div",{className:"tree-transfer-buttons"},f.default.createElement(x,{className:"transfer-right ",fieldid:"toRight",onClick:this.isPartSelectedLeft},f.default.createElement("i",{className:"iconfont icon-jiantouyou"})),f.default.createElement(x,{className:"transfer-right-double margin-top-8",fieldid:"toRightAll",onClick:this.isAllSelectedLeft},f.default.createElement("i",{className:"transfer-icon-1 iconfont icon-jiantouyou"}),f.default.createElement("i",{className:"transfer-icon-2 iconfont icon-jiantouyou"})),f.default.createElement(x,{className:"transfer-left-double margin-top-25",fieldid:"toLeft",onClick:this.isAllSelectedRight},f.default.createElement("i",{className:"transfer-icon-1 iconfont icon-jiantouzuo"}),f.default.createElement("i",{className:"transfer-icon-2 iconfont icon-jiantouzuo"})),f.default.createElement(x,{className:"transfer-left margin-top-8",fieldid:"toRightAll",onClick:this.isPartSelectedRight},f.default.createElement("i",{className:"iconfont icon-jiantouzuo"})))),f.default.createElement("div",{className:"right"},f.default.createElement("div",{className:"title"},(0,b.langCheck)("10180TM-000059","pages",a)),f.default.createElement(C,{className:"rightTree",fieldid:"right",areaCode:C.config.TreeCom},f.default.createElement(m.default,{checkable:!0,loadData:this.onLoadData,showLine:!0,multiple:!0,autoExpandParent:l,checkedKeys:this.state.rightCheckedKeys,onCheck:this.onRightCheck},this.rightRenderTreeNodes(i))))))}}]),t}(p.Component);S.propTypes={templatePk:h.default.string.isRequired,pageCode:h.default.string.isRequired,appCode:h.default.string.isRequired,def1:h.default.string.isRequired,templateTitleVal:h.default.string.isRequired,templateNameVal:h.default.string.isRequired,json:h.default.object.isRequired},t.default=(0,g.connect)(function(e){return{templatePk:e.TemplateSettingData.templatePk,pageCode:e.TemplateSettingData.pageCode,appCode:e.TemplateSettingData.appCode,def1:e.TemplateSettingData.def1,templateTitleVal:e.TemplateSettingData.templateTitleVal,templateNameVal:e.TemplateSettingData.templateNameVal,treeTemPrintData:e.TemplateSettingData.treeTemPrintData,json:e.TemplateSettingData.json}},{})(S)},1263:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(a(133)),r=b(a(13)),o=b(a(3)),l=b(a(8)),i=b(a(4)),u=b(a(5));a(189);var s=a(1),d=b(s),c=b(a(0)),m=a(29),p=b(a(413)),f=a(18),h=b(a(27)),g=b(a(57));function b(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.trim=function(e){if(e)return e.replace(/^\s+|\s+$/g,"")},a.checkName=function(){var e=a.props,t=e.json,n=(e.templateNameVal,a.state.templateName);if(!a.trim(n))return document.getElementById("templateName").classList.add("has-error"),void a.setState({nameErrorMsg:(0,f.langCheck)("10180TM-000023","pages",t)});a.setState({nameErrorMsg:""}),document.getElementById("templateName").classList.remove("has-error")},a.handleOk=function(){var e=a.props,t=e.templatePk,n=e.templateNameVal,r=e.json,o=e.saveLeftArrTS,l=a.state.templateName;if(a.trim(n)&&""!=l){var i="";1==o.length?o.map(function(e){i=e.ts}):o.length>1&&o.map(function(e){t==e.templateId&&(i=e.ts)}),document.getElementById("templateName").classList.remove("has-error");var u={templateId:t,templateName:l,ts:i},s=a;(0,f.DeferFn)(function(){(0,h.default)({url:"/nccloud/platform/template/resetTemplateNameAction.do",data:u,loading:!0,info:{name:(0,f.langCheck)("10180TM-000012","pages",r),action:(0,f.langCheck)("10180TM-000025","pages",r)},success:function(e){var t=e.data;t.success&&((0,g.default)({status:"success",msg:t.msg}),s.props.reqTreeTemData("rename"),s.handleCancel())}})})}},a.handleCancel=function(){a.props.setReNameModal(!1)},a.onChangeTemplateName=function(e){a.setState({templateName:e.target.value})},a.state={templateName:a.props.templateNameVal,nameErrorMsg:""},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.json,a=e.reNameModalVisible,r=e.templateNameVal,o=this.state,l=o.templateName,i=o.nameErrorMsg;return console.log("templateNameVal",r),d.default.createElement(p.default,{mask:!0,title:(0,f.langCheck)("10180TM-000056","pages",t),visible:a,height:260,onOk:this.handleOk,okText:(0,f.langCheck)("10180TM-000015","pages",t),cancelText:(0,f.langCheck)("10180TM-000016","pages",t),centered:!0,onCancel:this.handleCancel,maskClosable:!1,fieldid:"rename"},d.default.createElement("div",{className:"copyTemplate",style:{padding:"60px 20px"}},d.default.createElement("div",{className:"templateName"},d.default.createElement("label",{htmlFor:""},(0,f.langCheck)("10180TM-000029","pages",t)),d.default.createElement(n.default,{value:l,defaultValue:r,id:"templateName",style:{width:"80%"},onBlur:this.checkName,placeholder:(0,f.langCheck)("10180TM-000030","pages",t),fieldid:"templateName",onChange:this.onChangeTemplateName}),d.default.createElement("p",{className:"areaName-errorMsg"},i))))}}]),t}(s.Component);y.propTypes={templatePk:c.default.string.isRequired,pageCode:c.default.string.isRequired,appCode:c.default.string.isRequired,def1:c.default.string.isRequired,templateTitleVal:c.default.string.isRequired,templateNameVal:c.default.string.isRequired,json:c.default.object.isRequired},t.default=(0,m.connect)(function(e){return{templatePk:e.TemplateSettingData.templatePk,pageCode:e.TemplateSettingData.pageCode,appCode:e.TemplateSettingData.appCode,def1:e.TemplateSettingData.def1,templateTitleVal:e.TemplateSettingData.templateTitleVal,templateNameVal:e.TemplateSettingData.templateNameVal,treeTemPrintData:e.TemplateSettingData.treeTemPrintData,json:e.TemplateSettingData.json}},{})(y)},1264:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(13)),r=h(a(3)),o=h(a(8)),l=h(a(4)),i=h(a(5)),u=a(1),s=h(u),d=h(a(0)),c=a(29),m=a(18),p=h(a(413)),f=h(a(27));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.hideModal=function(){a.props.hideModal(!1)},a.printModalAjax=function(e){var t=a.props.json,n={};n.templateId=e;(0,f.default)({url:"/nccloud/platform/template/previewPrintTemplate.do",data:n,info:{name:(0,m.langCheck)("10180TM-000012","pages",t),action:(0,m.langCheck)("10180TM-000025","pages",t)},success:function(e){var t=e.data;t.success&&(document.getElementsByClassName("printContent")[0].innerHTML=t.data)}})},a.state={},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.printModalAjax(this.props.templatePk)}},{key:"render",value:function(){var e=this.props,t=e.previewPrintVisible,a=e.json;return s.default.createElement("div",{className:"templateTree-wrap"},s.default.createElement(p.default,{customHeader:(0,m.langCheck)("10180TM-000050","pages",a),okText:(0,m.langCheck)("10180TM-000015","pages",a),cancelText:(0,m.langCheck)("10180TM-000016","pages",a),visible:t,onCancel:this.hideModal,maskClosable:!1,footer:null,centered:!0,className:"viewPageTem"},s.default.createElement("div",{className:"printContent"})))}}]),t}(u.Component);g.propTypes={json:d.default.object.isRequired,templatePk:d.default.string.isRequired},t.default=(0,c.connect)(function(e){return{json:e.TemplateSettingData.json,templatePk:e.TemplateSettingData.templatePk}},{})(g)},1265:function(e,t,a){var n=a(1266);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(16)(n,r);n.locals&&(e.exports=n.locals)},1266:function(e,t,a){var n=a(141);(e.exports=a(14)(!1)).push([e.i,"body{background-color:#f0f2f5}*{box-sizing:border-box}.nc-workbench-templateSetting .nc-workbench-ownpage-left{padding-top:60px;height:100%}.nc-workbench-templateSetting .nc-workbench-ownpage-left .templateSetting-searchTree{padding:10px 20px;height:100%}.nc-workbench-templateSetting .nc-workbench-ownpage-left .templateSetting-searchTree .fixed-search-input{position:absolute;top:0;left:0;padding:20px 20px 10px;width:100%;display:flex;z-index:1}.nc-workbench-templateSetting .nc-workbench-ownpage-left .templateSetting-searchTree .fixed-search-input .sider-search-color .ant-input-search-icon{color:#e14c46;vertical-align:middle}.nc-workbench-templateSetting .nc-workbench-ownpage-right .templateTree-wrap{height:100%}.nc-workbench-templateSetting .nc-workbench-ownpage-right .templateTree{height:calc(100% - 40px);overflow-y:auto;margin-left:20px}.nc-workbench-templateSetting .nc-workbench-ownpage-right .template-title{height:30px;font-size:15px;line-height:30px;padding-left:20px;margin-bottom:10px;background:#f4f4f4}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPageData .noDataTip{background:url("+n(a(1043))+") no-repeat 50%}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPrintData .noDataTip{background:url("+n(a(1044))+") no-repeat 50%}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noData .noDataTip{background:url("+n(a(1045))+") no-repeat 50%}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noData,.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPageData,.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPrintData{width:100%;height:100%;align-items:center;justify-content:center;display:flex}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noData .noDataTip,.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPageData .noDataTip,.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPrintData .noDataTip{height:120px;line-height:280px;font-size:14px;color:#888;background-size:contain;text-align:center}.nc-workbench-templateSetting .ant-tree li .ant-tree-node-content-wrapper.ant-tree-node-selected{color:#e14c46}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item .dropdown-item{-moz-text-align-last:center;text-align-last:center;font-size:13px;width:100%;border:none;outline:none}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item .dropdown-item:focus{border:none}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item-disabled .dropdown-item{color:#ccc}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item:hover{background-color:#ebecf0}.copy-others-moudle .copy-others-modal-top{margin:4px 15px;position:relative}.copy-others-moudle .copy-others-modal-top .copy-others-modal-header{width:65px;height:21px;display:inline-block;font-size:13px;font-family:MicrosoftYaHei;color:#555;line-height:21px}.copy-others-moudle .copy-others-modal-top .copy-others-input{margin-left:8px;height:30px;font-size:13px;font-family:MicrosoftYaHei;color:#111;line-height:30px}.copy-others-moudle .copy-others-modal-top .areaCode-errorMsg,.copy-others-moudle .copy-others-modal-top .areaName-errorMsg{color:#f5222d;font-size:13px;position:absolute;top:30px;left:72px}.copy-others-moudle .copy-others-modal-bottom{overflow:hidden;margin-top:20px;display:flex}.copy-others-moudle .copy-others-modal-bottom .left{flex:0 1 320px;border:1px solid #d0d0d0}.copy-others-moudle .copy-others-modal-bottom .left .title{background-color:#f3f3f3;padding:6px 15px;color:#111}.copy-others-moudle .copy-others-modal-bottom .left .search{margin:10px}.copy-others-moudle .copy-others-modal-bottom .left .leftTree{overflow:auto;height:275px}.copy-others-moudle .copy-others-modal-bottom .left .leftTree .ant-tree{overflow:none}.copy-others-moudle .copy-others-modal-bottom .middle{display:flex;justify-content:center;align-items:center;margin:0 auto;width:10%}.copy-others-moudle .copy-others-modal-bottom .right{flex:0 1 320px;border:1px solid #d0d0d0}.copy-others-moudle .copy-others-modal-bottom .right .title{background-color:#f3f3f3;padding:6px 15px;color:#111}.copy-others-moudle .copy-others-modal-bottom .right .rightTree{overflow:auto;height:325px}.copy-others-moudle .copy-others-modal-bottom .right .rightTree .ant-tree{overflow:none}.tree-transfer-buttons{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:8px}.tree-transfer-buttons .u-button{padding:0;width:32px;height:32px;min-width:32px;border-radius:3px}.tree-transfer-buttons .u-button:after{display:none!important}.tree-transfer-buttons .iconfont{font-size:12px}.tree-transfer-buttons .transfer-left-double,.tree-transfer-buttons .transfer-right-double{position:relative}.tree-transfer-buttons .transfer-left-double .transfer-icon-1,.tree-transfer-buttons .transfer-left-double .transfer-icon-2,.tree-transfer-buttons .transfer-right-double .transfer-icon-1,.tree-transfer-buttons .transfer-right-double .transfer-icon-2{position:absolute}.tree-transfer-buttons .transfer-left-double .transfer-icon-1,.tree-transfer-buttons .transfer-right-double .transfer-icon-1{left:6px}.tree-transfer-buttons .transfer-left-double .transfer-icon-2,.tree-transfer-buttons .transfer-right-double .transfer-icon-2{right:6px}.margin-top-8{margin-top:8px}.margin-top-25{margin-top:25px}.ant-modal-body{padding:8px}",""])},877:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=V(a(913)),r=V(a(38)),o=V(a(916)),l=V(a(13)),i=V(a(3)),u=V(a(8)),s=V(a(4)),d=V(a(5));a(914),a(896);var c=a(1),m=V(c),p=V(a(0)),f=a(29),h=a(941),g=a(886),b=V(a(27)),y=V(a(57)),v=a(109),k=V(a(938)),T=V(a(1035)),w=V(a(1259)),C=V(a(1260)),x=V(a(1039)),D=V(a(1262)),E=V(a(1263)),S=V(a(1264)),P=a(92),N=a(18),M=a(995),R=V(a(906)),A=a(190),K=V(a(909)),_=V(a(33)),j=a(1042);function V(e){return e&&e.__esModule?e:{default:e}}a(1265);var O=_.default.base,I=O.NCDiv,q=O.NCButton,z=O.NCUpload,L=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.setCopyVisible=function(e){a.setState({visible:e})},a.setCopyOthersVisible=function(e){a.setState({copyOthersModalVisible:e})},a.setReNameModal=function(e){a.setState({reNameModal:e})},a.menuFun=function(){var e=a.props,t=e.json,n=!1;return"y"===e.isDefaultTem&&(n=!0),m.default.createElement(o.default,{onClick:a.settingClick.bind(a)},m.default.createElement(o.default.Item,{key:"setDefault",disabled:n},m.default.createElement("div",{className:"dropdown-item",fieldid:"setDefault"},(0,N.langCheck)("10180TM-000033","pages",t))),m.default.createElement(o.default.Divider,null),m.default.createElement(o.default.Item,{key:"cancelDefault",disabled:!n},m.default.createElement("div",{className:"dropdown-item",fieldid:"cancelDefault"},(0,N.langCheck)("10180TM-000034","pages",t))))},a.settingClick=function(e){var t=a.props,n=t.templatePk,r=t.pageCode,o=t.appCode,l=t.json,i={templateId:n,pageCode:r,appCode:o},u=e.key;if(n){var s=void 0;switch(u){case"setDefault":s="/nccloud/platform/template/setDefaultTemplate.do",a.setDefaultFun(s,i,(0,N.langCheck)("10180TM-000033","pages",l));break;case"cancelDefault":s="/nccloud/platform/template/cancelDefaultTemplate.do",a.setDefaultFun(s,i,(0,N.langCheck)("10180TM-000034","pages",l))}}else(0,y.default)({status:"warning",msg:(0,N.langCheck)("10180TM-000035","pages",l)})},a.handleClick=function(e){var t=a.props,n=t.def1,r=t.templatePk,o=t.appCode,l=t.json,i=t.pageCode,u={templateId:r},s=window.location.protocol||"http:";if(r)switch(e){case"copy":a.setState({visible:!0});break;case"edit":if("menuitem"===n){var d={appcode:o,templateid:r};a.ajaxFun(d,"/nccloud/platform/template/edittemplate.do",function(e){window.location.href="uclient://start/"+s+"//"+location.hostname+(location.port?":"+location.port:"")+e.data})}else(0,P.openPage)("ZoneSetting",!1,{templetid:r,status:"templateSetting",appcode:o,pcode:i});break;case"delete":var c=void 0;"menuitem"===n?c="/nccloud/platform/template/deletePrintTemplate.do":"apppage"===n&&(c="/nccloud/platform/template/deleteTemplateDetail.do"),(0,v.ControlTip)({status:"warning",title:(0,N.langCheck)("10180TM-000036","pages",l),msg:(0,N.langCheck)("10180TM-000037","pages",l),fieldid:"delete",onOk:function(){a.ajaxFun(u,c,function(e){(0,y.default)({status:"success",msg:e.msg}),a.reqTreeTemData()})}});break;case"assign":a.setState({alloVisible:!0});break;case"browse":"menuitem"===n?a.showModal():a.setState({batchSettingModalVisibel:!0});break;case"copyOthersApp":a.setState({copyOthersModalVisible:!0});break;case"rename":a.setState({reNameModal:!0});break;case"export":var m={pagecode:i,appcode:o};(0,j.handleDownload)(m,"/nccloud/platform/appregister/templetexport.do",1)}else(0,y.default)({status:"warning",msg:(0,N.langCheck)("10180TM-000035","pages",l)})},a.ajaxFun=function(e,t,a,n,r){(0,b.default)({url:t,data:e,info:{name:"",action:""},success:function(e){var t=e.data;t.success&&(n?n&&"function"==typeof n?a(t,n):(n||r)&&a(t,n,r):a(t))}})},a.setDefaultFun=function(e,t,n){var r=a.props,o=r.def1,l=r.parentIdcon,i=r.json,u=r.appCode,s=r.pageCode;"apppage"===o?t.templateType="bill":"menuitem"===o&&(n===(0,N.langCheck)("10180TM-000034","pages",i)?(t.pageCode&&delete t.pageCode,e="/nccloud/platform/template/cancelDefaultPrintTemplate.do"):n===(0,N.langCheck)("10180TM-000033","pages",i)&&(t.parentId=l,e="/nccloud/platform/template/setDefaultPrintTemplate.do"),t.templateType&&delete t.templateType),a.ajaxFun(t,e,function(e){(0,y.default)({status:"success",msg:e.msg}),localStorage.removeItem("appTempletStorage_"+u+"_"+s),a.reqTreeTemData("setDefault")})},a.componentWillMount=function(){(0,A.getMulti)({moduleId:"10180TM",domainName:"workbench",callback:function(e){a.props.setJson(e)}})},a.componentDidMount=function(){var e=a.props,t=e.selectedKeys,n=e.setSelectedKeys,r=e.def1,o=e.expandedKeys,l=e.setExpandedKeys,i=e.appCode,u=e.pageCode,s=e.setAppCode,d=e.setPageCode,c=e.expandedTemKeys,m=e.setExpandedTemKeys,p=e.selectedTemKeys,f=e.setSelectedTemKeys,g=e.searchValue,b=e.setSearchValue;""!==r?(g?a.handleSearch(g,a.handleExpanded):a.reqTreeData(),n(t),(0,h.setDef1)(r),l(o),s(i),d(u),a.reqTreeTemData("historyData"),m(c),f(p)):a.param&&a.param.fourAppCode&&a.param.code&&"equiptool"===a.param.pageName?(b(a.param.fourAppCode),a.handleSearch(a.param.fourAppCode,a.handleExpanded,a.selectedFun)):a.reqTreeData(a.setInformationFun)},a.setInformationFun=function(e){var t=a.props,n=t.setSelectedKeys,r=t.setDef1,o=t.setAppCode,l=t.setPageCode;e&&e.length>0&&(n([e[0].pk]),r(e[0].def1),o(e[0].appCode),e[0].pageCode&&l(e[0].pageCode))},a.handleExpanded=function(e){var t=e.map(function(e,t){return e.pk});t.push("00"),a.props.setExpandedKeys(t),a.setState({autoExpandParent:!0})},a.handleSearch=function(e,t,n){(0,N.DeferFn)(function(){a.ajaxFun({search_content:e,containAppPage:!0},"/nccloud/platform/appregister/searchappmenuitem.do",function(e){a.props.setTreeData(e.data),t(e.data),n&&"function"==typeof n&&n(e.data)})})},a.selectedFun=function(e){if(e&&e.length>0){var t=a.props,n=t.setSelectedKeys,r=t.setDef1,o=t.setAppCode,l=t.setPageCode,i=e.find(function(e){return e.code===a.param.code});n([i.pk]),r(i.def1),o(i.appCode),i.code&&l(i.code),a.reqTreeTemData()}},a.restoreTreeTemData=function(e,t){var n=a.state,o=n.treeTemBillData,l=n.treeTemPrintData,i=a.props,u=i.def1,s=i.expandedTemKeys,d=i.copyId,c=i.templatePk,m=i.json,p=i.setIsDefaultTem,f=[],h=void 0,g=a.props.treeTemBillData,b=a.props.treeTemPrintData;"bill"===e?h=(0,M.generateTemData)(g):"print"===e&&(h=(0,M.generateTemData)(b));var y=h,v=y.treeArray,k=y.treeObj;if(v.map(function(e){for(var t in k)k.hasOwnProperty(t)&&e.templateId===k[t][0].parentId&&e.children.push(k[t][0])}),f=h.treeArray,f=(0,M.generateTreeData)(f),"bill"===e){if("apppage"===u)if(f.length>0){if(t)t&&"copy"===t?f.map(function(e){e.children&&e.children.length>0&&e.children.map(function(e){if(d===e.key){var t=[].concat((0,r.default)(s),[e.parentId]);a.props.setExpandedTemKeys(t)}})}):t&&"setDefault"===t&&f.map(function(e){e.children&&e.children.length>0&&e.children.map(function(e){c===e.key&&p(e.isDefault)})});else{var T=[];T.push(f[0].key),a.props.setSelectedTemKeys(T),a.props.setParentIdcon(f[0].parentId),a.props.setTemplatePk(f[0].pk),a.props.setTemplateNameVal(f[0].name)}f.forEach(function(e){e.children&&e.children.length>0&&e.children.map(function(e){"y"===e.isDefault&&(e.name=e.name+(0,N.langCheck)("10180TM-000038","pages",m))})})}else a.props.setParentIdcon("");o=f,a.setState({treeTemBillData:o})}else if("print"===e){if("menuitem"===u)if(f.length>0){if(t)t&&"copy"===t?f.map(function(e){e.children&&e.children.length>0&&e.children.map(function(e){if(d===e.key){var t=[].concat((0,r.default)(s),[e.parentId]);a.props.setExpandedTemKeys(t)}})}):t&&"setDefault"===t&&f.map(function(e){e.children&&e.children.length>0&&e.children.map(function(e){c===e.key&&p(e.isDefault)})});else{var w=[];w.push(f[0].key),a.props.setSelectedTemKeys(w),a.props.setTemplatePk(f[0].pk),a.props.setParentIdcon(f[0].parentId),a.props.setTemplateNameVal(f[0].name),a.props.setTemplateTitleVal(f[0].code)}f.forEach(function(e){e.children&&e.children.length>0&&e.children.map(function(e){"y"===e.isDefault&&(e.name=e.name+(0,N.langCheck)("10180TM-000038","pages",m))})})}else a.props.setParentIdcon("");l=f,a.setState({treeTemPrintData:l})}},a.onSelectQuery=function(e,t){var n=a.props.selectedKeys;e.length>0?(a.props.setSelectedKeys(e),a.props.setDef1(t.selectedNodes[0].props.refData.def1),a.props.setAppCode(t.selectedNodes[0].props.refData.appCode),a.props.setPageCode(t.selectedNodes[0].props.refData.code),a.setState({autoExpandParent:!0},a.reqTreeTemData)):n&&a.reqTreeTemData()},a.reqTreeTemData=function(e){var t=a.props,n=t.def1,r={pageCode:t.pageCode,appCode:t.appCode};r.pageCode&&("apppage"===n?(r.templateType="bill",a.reqTreeTemAjax(r,"bill",e)):"menuitem"===n&&(r.pageCode&&delete r.pageCode,r.templateType="print",a.reqTreeTemAjax(r,"print",e)))},a.reqTreeTemAjax=function(e,t,n){var r=a.props.selectedTemKeys,o=a;a.ajaxFun(e,"/nccloud/platform/template/getTemplatesOfPage.do",function(e){e.data.length>0&&o.setState({saveLeftArrTS:e.data}),"bill"===t?(a.props.setTreeTemBillData(e.data),a.restoreTreeTemData(t,n)):"print"===t&&(a.props.setTreeTemPrintData(e.data),a.restoreTreeTemData(t,n),r&&e.data&&e.data.length&&e.data.map(function(e,t){e.templateId===r[0]&&a.props.setNodeKey(e.nodeKey)}))},t,n)},a.onTemSelect=function(e,t){var n=a.props,r=n.def1,o=n.setIsDefaultTem;if("apppage"===r||"menuitem"===r&&(e.length>0?a.props.setNodeKey(t.selectedNodes[0].props.refData.nodeKey):t.node.props&&t.node.props.refData&&t.node.props.refData.nodeKey&&a.props.setNodeKey(t.node.props.refData.nodeKey)),e.length>0){var l=t.selectedNodes[0].props.refData.name,i=l.indexOf((0,N.langCheck)("10180TM-000038","pages",a.props.json));-1!==i&&(l=l.slice(0,i)),a.props.setSelectedTemKeys(e),a.props.setTemplatePk(e[0]),a.props.setParentIdcon(t.selectedNodes[0].props.refData.parentId),a.props.setTemplateNameVal(l),a.props.setTemplateTitleVal(t.selectedNodes[0].props.refData.code),o(t.selectedNodes[0].props.refData.isDefault)}},a.reqTreeData=function(e){a.ajaxFun({},"/nccloud/platform/appregister/querymenuitemstree.do",function(e,t){e.success&&e.data.length>0&&(a.props.setTreeData(e.data),t&&"function"==typeof t&&t(e.data))},e)},a.setModalVisibel=function(e){a.setState({batchSettingModalVisibel:e})},a.setAssignModalVisible=function(e){a.setState({alloVisible:e})},a.showModal=function(){a.setState({previewPrintVisible:!0})},a.hideModal=function(e){a.setState({previewPrintVisible:e})},a.switchPageTem=function(){var e=a.state,t=e.treeTemBillData,n=e.treeTemPrintData,r=a.props.json;switch(a.props.def1){case"apppage":return m.default.createElement(C.default,{type:"bill",dataSource:t,langDataTitle:(0,N.langCheck)("10180TM-000039","pages",r),langNoDataTitle:(0,N.langCheck)("10180TM-000040","pages",r),onSelectQuery:a.onTemSelect});case"menuitem":return m.default.createElement(C.default,{type:"print",dataSource:n,langDataTitle:(0,N.langCheck)("10180TM-000041","pages",r),langNoDataTitle:(0,N.langCheck)("10180TM-000042","pages",r),onSelectQuery:a.onTemSelect});default:return m.default.createElement("div",{className:"noData"},m.default.createElement("p",{className:"noDataTip"},(0,N.langCheck)("10180TM-000043","pages",r)))}},a.menuBtnLoad=function(){var e=a.props,t=e.def1,r=e.parentIdcon,o=e.json;return r&&"root"!==r&&t&&m.default.createElement(n.default,{overlay:a.menuFun(),trigger:["click"],overlayClassName:"fieldid_setDefault_list"},m.default.createElement(q,{key:"",className:"margin-left-10",fieldid:"setDefault"},(0,N.langCheck)("10180TM-000044","pages",o),m.default.createElement("i",{class:"arrow iconfont icon-hangcaozuoxiala1",style:{fontSize:13}})))},a.ncUploadChange=function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(console.log(e.file.name+" file uploaded successfully"),a.reqTreeTemData()):"error"===e.file.status&&console.log(e.file.name+" file upload failed.")},a.param=(0,N.GetQuery)(a.props.location.search),a.state={siderHeight:"280",autoExpandTemParent:!0,treeTemBillData:[],treeTemPrintData:[],visible:!1,alloVisible:!1,batchSettingModalVisibel:!1,previewPrintVisible:!1,copyOthersModalVisible:!1,reNameModal:!1,saveLeftArrTS:[]},a}return(0,d.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.alloVisible,r=t.batchSettingModalVisibel,o=t.previewPrintVisible,l=t.copyOthersModalVisible,i=t.reNameModal,u=this.props,s=u.def1,d=u.templatePk,c=u.parentIdcon,p=u.json,f=[{name:"导出",type:"primary",code:"export",isshow:"apppage"==s&&""!==c},{name:(0,N.langCheck)("10180TM-000045","pages",p),code:"edit",fieldid:"edit",isshow:s&&"root"!==c&&c},{name:(0,N.langCheck)("10180TM-000036","pages",p),code:"delete",fieldid:"delete",isshow:s&&"root"!==c&&c},{name:(0,N.langCheck)("10180TM-000046","pages",p),type:"primary",code:"copy",fieldid:"copy",isshow:"menuitem"==s&&""!==c},{name:(0,N.langCheck)("10180TM-000046","pages",p),type:"primary",code:"copy",fieldid:"copy",isshow:"apppage"==s&&""!==c,divide:"btn"},{name:(0,N.langCheck)("10180TM-000055","pages",p),type:"primary",code:"copyOthersApp",dropdownFieldid:"copy",fieldid:"copyOthersApp",isshow:"apppage"==s&&""!==c,divide:"select"},{name:(0,N.langCheck)("10180TM-000056","pages",p),code:"rename",fieldid:"rename",isshow:"apppage"==s&&""!==c},{name:(0,N.langCheck)("10180TM-000047","pages",p),code:"assign",fieldid:"assign",isshow:s&&"root"!==c&&c},{name:(0,N.langCheck)("10180TM-000048","pages",p),code:"browse",fieldid:"browse",isshow:s&&""!==c}],h=(0,N.GetQuery)(window.location.hash).c;return m.default.createElement(g.PageLayout,{className:"nc-workbench-templateSetting",header:m.default.createElement(g.PageLayoutHeader,null,m.default.createElement("div",{className:"header_in_icon"},m.default.createElement(K.default,{appCode:h}),m.default.createElement(I,{fieldid:(0,N.langCheck)("10180TM-000049","pages",p),areaCode:I.config.Title},(0,N.langCheck)("10180TM-000049","pages",p))),m.default.createElement("div",{style:{display:"flex"}},"apppage"==s&&""!==c&&m.default.createElement(z,{showUploadList:!1,accept:"application/json",action:"/nccloud/platform/appregister/templetimport.do",headers:{authorization:"authorization-text"},onChange:this.ncUploadChange},m.default.createElement(q,{className:"margin-left-6",key:"import",colors:"primary"},"导入")),m.default.createElement(R.default,{dataSource:f,onClick:this.handleClick}),this.menuBtnLoad()))},m.default.createElement(g.PageLayoutLeft,null,m.default.createElement(w.default,{onSelect:this.reqTreeTemData,reqTreeData:this.reqTreeData,setInforFun:this.setInformationFun,handleSearch:this.handleSearch,handleExpanded:this.handleExpanded})),m.default.createElement(g.PageLayoutRight,null,this.switchPageTem(),r&&m.default.createElement(k.default,{previewVisibel:r,setModalVisibel:this.setModalVisibel,templetData:{pagecode:this.props.pageCode,appcode:this.props.appCode,templetid:d}}),l&&m.default.createElement(D.default,{copyOthersModalVisible:l,setCopyOthersVisible:this.setCopyOthersVisible,reqTreeTemData:this.reqTreeTemData}),a&&m.default.createElement(x.default,{json:this.props.json,visible:a,setCopyVisible:this.setCopyVisible,onCopy:function(){return e.reqTreeTemData("copy")}}),i&&m.default.createElement(E.default,{reNameModalVisible:i,setReNameModal:this.setReNameModal,reqTreeTemData:this.reqTreeTemData,saveLeftArrTS:this.state.saveLeftArrTS}),o&&m.default.createElement(S.default,{previewPrintVisible:o,hideModal:this.hideModal}),n&&m.default.createElement(T.default,{json:this.props.json,alloVisible:n,setAssignModalVisible:this.setAssignModalVisible})))}}]),t}(c.Component);L.propTypes={treeData:p.default.array.isRequired,setTreeData:p.default.func.isRequired,setExpandedKeys:p.default.func.isRequired,setDef1:p.default.func.isRequired,setSelectedTemKeys:p.default.func.isRequired,setTreeTemBillData:p.default.func.isRequired,setTreeTemPrintData:p.default.func.isRequired,setSearchValue:p.default.func.isRequired,setPageCode:p.default.func.isRequired,setAppCode:p.default.func.isRequired,setCopyId:p.default.func.isRequired,setIsDefaultTem:p.default.func.isRequired,setParentIdcon:p.default.func.isRequired,setNodeKey:p.default.func.isRequired,setTemplateNameVal:p.default.func.isRequired,setJson:p.default.func.isRequired,selectedKeys:p.default.array.isRequired,expandedKeys:p.default.array.isRequired,treeTemBillData:p.default.array.isRequired,treeTemPrintData:p.default.array.isRequired,def1:p.default.string.isRequired,templatePk:p.default.string.isRequired,searchValue:p.default.string.isRequired,pageCode:p.default.string.isRequired,appCode:p.default.string.isRequired,parentIdcon:p.default.string.isRequired,nodeKey:p.default.array.isRequired,copyId:p.default.string.isRequired,expandedTemKeys:p.default.array.isRequired,json:p.default.object.isRequired,isDefaultTem:p.default.string.isRequired},t.default=(0,f.connect)(function(e){return{treeData:e.TemplateSettingData.treeData,treeTemBillData:e.TemplateSettingData.treeTemBillData,treeTemPrintData:e.TemplateSettingData.treeTemPrintData,selectedKeys:e.TemplateSettingData.selectedKeys,expandedKeys:e.TemplateSettingData.expandedKeys,def1:e.TemplateSettingData.def1,selectedTemKeys:e.TemplateSettingData.selectedTemKeys,templatePk:e.TemplateSettingData.templatePk,searchValue:e.TemplateSettingData.searchValue,pageCode:e.TemplateSettingData.pageCode,appCode:e.TemplateSettingData.appCode,parentIdcon:e.TemplateSettingData.parentIdcon,nodeKey:e.TemplateSettingData.nodeKey,copyId:e.TemplateSettingData.copyId,expandedTemKeys:e.TemplateSettingData.expandedTemKeys,json:e.TemplateSettingData.json,isDefaultTem:e.TemplateSettingData.isDefaultTem}},{setTreeData:h.setTreeData,setTreeTemBillData:h.setTreeTemBillData,setTreeTemPrintData:h.setTreeTemPrintData,setExpandedKeys:h.setExpandedKeys,setSelectedKeys:h.setSelectedKeys,setDef1:h.setDef1,setSelectedTemKeys:h.setSelectedTemKeys,setExpandedTemKeys:h.setExpandedTemKeys,setTemplateNameVal:h.setTemplateNameVal,setTemplateTitleVal:h.setTemplateTitleVal,setTemplatePk:h.setTemplatePk,setSearchValue:h.setSearchValue,setPageCode:h.setPageCode,setAppCode:h.setAppCode,setParentIdcon:h.setParentIdcon,setNodeKey:h.setNodeKey,setCopyId:h.setCopyId,setJson:h.setJson,setIsDefaultTem:h.setIsDefaultTem})(L)},886:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutRight=t.PageLayoutLeft=t.PageLayoutHeader=t.PageScrollLayout=t.PageLayout=void 0;var n,r,o,l,i,u,s,d,c,m,p=T(a(13)),f=T(a(3)),h=T(a(8)),g=T(a(4)),b=T(a(5)),y=a(1),v=T(y),k=T(a(0));function T(e){return e&&e.__esModule?e:{default:e}}a(887);var w=T(a(33)).default.base.NCDiv,C=!1,x=(r=n=function(e){function t(e){(0,f.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.handleMouseUp=function(){C=!1},a.handleMouseMove=function(e){if(C){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,r=parseInt(t-n)+3;r<200||(a.style.width=r+"px")}},a}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"nc-workbench-page"},this.props.header?this.props.header:null,v.default.createElement("div",{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+this.props.className},this.props.children))}}]),t}(y.Component),n.defaultProps={className:""},r),D=(l=o=function(e){function t(e){(0,f.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.handleMouseUp=function(){C=!1},a.handleMouseMove=function(e){if(C){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,r=parseInt(t-n)+3;r<200||(a.style.width=r+"px")}},a.handleScroll=function(e){var t=a.refs.ncWorkbenchPageScroll.getBoundingClientRect(),n=t.y;t.width;if(n==a.initScrollContainerTop&&a.setState({suck:!1}),n<a.initScrollContainerTop){if(a.state.suck)return;a.containerWidthChange(),a.setState({suck:!0})}},a.containerWidthChange=function(){var e=a.refs.ncWorkbenchPageOwnpage.getBoundingClientRect().width;document.getElementsByClassName("nc-workbench-page-header")[0].style.width=e+"px",document.getElementById("suckTableHeader")&&(document.getElementById("suckTableHeader").style.width=e+"px")},a.state={suck:!1},a.initScrollContainerTop,a}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.containerWidthChange);var e=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;this.initScrollContainerTop=e}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.containerWidthChange)}},{key:"render",value:function(){var e=this.state.suck;return v.default.createElement("div",{className:"nc-workbench-page-scroll",onScroll:this.handleScroll},v.default.createElement("div",{className:" nc-workbench-page "},v.default.createElement("div",{className:"nc-workbench-page-container "+(e?"nc-workbench-suck":""),ref:"ncWorkbenchPageScroll"},this.props.header?this.props.header:null,v.default.createElement("div",{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,ref:"ncWorkbenchPageOwnpage",className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+this.props.className},this.props.children))))}}]),t}(y.Component),o.defaultProps={className:""},l),E=(u=i=function(e){function t(e){(0,f.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.handleMouseDown=function(){C=!0},a}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return v.default.createElement("div",{id:"layoutLeft",className:"nc-workbench-ownpage-left "+this.props.className},v.default.createElement("span",{className:"layout-drag-block",onMouseDown:this.handleMouseDown}),this.props.children)}}]),t}(y.Component),i.defaultProps={className:""},u),S=(d=s=function(e){function t(e){return(0,f.default)(this,t),(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e))}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return v.default.createElement(w,{areaCode:w.config.HEADER,className:"nc-workbench-page-header "+this.props.className},this.props.children)}}]),t}(y.Component),s.defaultProps={className:""},d),P=(m=c=function(e){function t(){return(0,f.default)(this,t),(0,g.default)(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"nc-workbench-ownpage-right "+this.props.className},this.props.children)}}]),t}(y.Component),c.defaultProps={className:""},m);x.propTypes={children:k.default.any.isRequired},E.propTypes={children:k.default.any.isRequired},P.propTypes={children:k.default.any.isRequired},t.PageLayout=x,t.PageScrollLayout=D,t.PageLayoutHeader=S,t.PageLayoutLeft=E,t.PageLayoutRight=P},887:function(e,t,a){var n=a(888);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(16)(n,r);n.locals&&(e.exports=n.locals)},888:function(e,t,a){(e.exports=a(14)(!1)).push([e.i,'.nc-workbench-page{position:absolute;top:0;z-index:10;height:100%;width:100%;padding:8px 0 0;display:flex;flex-direction:column}.nc-workbench-page .nc-workbench-page-header{flex:0 0 45px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #d9d9d9;border-radius:3px 3px 0 0;background:#fff;padding:0 20px}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn{font-size:16px;color:#111;font-weight:700}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont{margin-right:6px;border-radius:50%;font-size:16px;padding:4px;font-weight:400;cursor:pointer}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont:hover{background:#e8e8e8}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-page-header .header_in_icon{display:flex;font-weight:700;font-size:16px;color:#111;line-height:24px}.nc-workbench-page .nc-workbench-page-header .header_in_icon span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-ownpage{min-width:800px;border-radius:0 0 3px 3px}.nc-workbench-page .nc-workbench-ownpage-all{height:100%;display:flex;justify-content:flex-start;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nc-workbench-page .nc-workbench-ownpage-left{position:relative;height:100%;min-width:280px}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block{position:absolute;right:-3px;z-index:10;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:block;padding:0 3px;height:100%;border-radius:3px;cursor:w-resize}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:after{content:"";display:block;width:1px;height:100%;background:#d9d9d9}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:hover:after{width:2px;background:rgba(0,0,0,.54)}.nc-workbench-page .nc-workbench-ownpage-right{min-width:50%;flex:1}.nc-workbench-page-scroll{height:100%;width:100%;overflow-y:auto}.nc-workbench-page-scroll .nc-workbench-page-container{margin-top:0;min-height:100%;background:#fff;border-radius:3px}.nc-workbench-page-scroll .nc-workbench-page-container .nc-workbench-page-header{position:static;transition:top .7s ease;height:46px}.nc-workbench-page-scroll .nc-workbench-page-container .suck-table-header{position:static;transition:top .7s ease}.nc-workbench-page-scroll .nc-workbench-suck{padding-top:80px}.nc-workbench-page-scroll .nc-workbench-suck .nc-workbench-page-header{position:fixed;z-index:1;top:44px}.nc-workbench-page-scroll .nc-workbench-suck .suck-table-header{position:fixed;z-index:1;top:94px}@media screen and (min-width:1280px){.nc-workbench-page{padding:8px 16px 0}}@media screen and (min-width:1440px){.nc-workbench-page{padding:8px 16px 0}}@media screen and (min-width:1600px){.nc-workbench-page{padding:8px 16px 0}}',""])},890:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAreaValidate=t.updateSaveFlag=t.setZoneDataFun=t.setCurrentBatchCell=t.updateBatchSource=t.setFormulaInfo=t.toggleFormula=t.clearData=t.updatePreviewData=t.updateSelectArea=t.updateAreaList=t.updateSelectCard=t.setZoneData=void 0;var n,r=a(6),o=(n=r)&&n.__esModule?n:{default:n},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(427));t.setZoneData=function(e){return{type:l.ZONESETTING,data:e}},t.updateSelectCard=function(e){return{type:l.UPDATESELECTCARD,selectCard:e}},t.updateAreaList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:l.UPDATEAREALIST,areaList:e,init:t}},t.updateSelectArea=function(e){return{type:l.UPDATESELECTAREA,selectedArea:e}},t.updatePreviewData=function(e){return{type:l.PREVIEWDATA,previewData:e}},t.clearData=function(){return{type:l.CLEARDATA}},t.toggleFormula=function(e,t){return{type:l.TOGGLEFORMULA,formula:(0,o.default)({},e,t)}},t.setFormulaInfo=function(e){return{type:l.SETFORMULAINFO,formulaInfo:e}},t.updateBatchSource=function(e){return{type:l.UPDATEBATCHSOURCE,batchSource:e}},t.setCurrentBatchCell=function(e){return{type:l.SETCURRENTBATCHCELL,currentBatchCell:e}},t.setZoneDataFun=function(e){return{type:l.SETZONEFORMFUN,getFromData:e}},t.updateSaveFlag=function(e){return{type:l.UPDATESAVEFLAG,isSave:e}},t.updateAreaValidate=function(e){return{type:l.SETAREAVALIDATE,validate:e}}},896:function(e,t,a){"use strict";a.r(t);a(26),a(903),a(75)},897:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTree=void 0;var n,r=a(89),o=(n=r)&&n.__esModule?n:{default:n};t.createTree=function(e,t,a){e=o.default.cloneDeep(e);var n=l(e,a),r=n.treeArray,s=n.treeObject;return s=i(s,t),u(r,s,t)};var l=function(e,t){var a=[],n={};return e.map(function(e,r){e[t]?n.hasOwnProperty(e[t])?n[e[t]].push(e):(n[e[t]]=[],n[e[t]].push(e)):a.push(e)}),{treeArray:a,treeObject:n}},i=function(e,t){for(var a in e)e.hasOwnProperty(a)&&(e[a]=u(e[a],e,t));return e},u=function(e,t,a){return e.map(function(e,n){return t.hasOwnProperty(e[a])&&(e.children=t[e[a]]),e})}},903:function(e,t,a){var n=a(904);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(16)(n,r);n.locals&&(e.exports=n.locals)},904:function(e,t,a){(e.exports=a(14)(!1)).push([e.i,'.ant-menu{font-family:Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:14px;font-variant:tabular-nums;line-height:1.5;box-sizing:border-box;outline:none;margin:0;padding:0;list-style:none;box-shadow:0 2px 8px rgba(0,0,0,.15);color:rgba(0,0,0,.65);background:#fff;line-height:0;transition:background .3s,width .2s;zoom:1}.ant-menu:after,.ant-menu:before{content:"";display:table}.ant-menu:after{clear:both}.ant-menu ol,.ant-menu ul{list-style:none;margin:0;padding:0}.ant-menu-hidden{display:none}.ant-menu-item-group-title{color:rgba(0,0,0,.45);font-size:14px;line-height:1.5;padding:8px 16px;transition:all .3s}.ant-menu-submenu,.ant-menu-submenu-inline{transition:border-color .3s cubic-bezier(.645,.045,.355,1),background .3s cubic-bezier(.645,.045,.355,1),padding .15s cubic-bezier(.645,.045,.355,1)}.ant-menu-item:active,.ant-menu-submenu-title:active{background:#e6f7ff}.ant-menu-submenu .ant-menu-sub{cursor:auto;transition:background .3s cubic-bezier(.645,.045,.355,1),padding .3s cubic-bezier(.645,.045,.355,1)}.ant-menu-item>a{display:block;color:rgba(0,0,0,.65)}.ant-menu-item>a:hover{color:#1890ff}.ant-menu-item>a:focus{text-decoration:none}.ant-menu-item>a:before{position:absolute;background-color:transparent;top:0;left:0;bottom:0;right:0;content:""}.ant-menu-item-divider{height:1px;overflow:hidden;background-color:#e8e8e8;line-height:0}.ant-menu-item-active,.ant-menu-item:hover,.ant-menu-submenu-active,.ant-menu-submenu-title:hover,.ant-menu:not(.ant-menu-inline) .ant-menu-submenu-open{color:#1890ff}.ant-menu-horizontal .ant-menu-item,.ant-menu-horizontal .ant-menu-submenu{margin-top:-1px}.ant-menu-horizontal>.ant-menu-item-active,.ant-menu-horizontal>.ant-menu-item:hover,.ant-menu-horizontal>.ant-menu-submenu .ant-menu-submenu-title:hover{background-color:transparent}.ant-menu-item-selected,.ant-menu-item-selected>a,.ant-menu-item-selected>a:hover{color:#1890ff}.ant-menu:not(.ant-menu-horizontal) .ant-menu-item-selected{background-color:#e6f7ff}.ant-menu-inline,.ant-menu-vertical,.ant-menu-vertical-left{border-right:1px solid #e8e8e8}.ant-menu-vertical-right{border-left:1px solid #e8e8e8}.ant-menu-vertical-left.ant-menu-sub,.ant-menu-vertical-right.ant-menu-sub,.ant-menu-vertical.ant-menu-sub{border-right:0;padding:0;-webkit-transform-origin:0 0;transform-origin:0 0}.ant-menu-vertical-left.ant-menu-sub .ant-menu-item,.ant-menu-vertical-right.ant-menu-sub .ant-menu-item,.ant-menu-vertical.ant-menu-sub .ant-menu-item{border-right:0;margin-left:0;left:0}.ant-menu-vertical-left.ant-menu-sub .ant-menu-item:after,.ant-menu-vertical-right.ant-menu-sub .ant-menu-item:after,.ant-menu-vertical.ant-menu-sub .ant-menu-item:after{border-right:0}.ant-menu-vertical-left.ant-menu-sub>.ant-menu-item,.ant-menu-vertical-left.ant-menu-sub>.ant-menu-submenu,.ant-menu-vertical-right.ant-menu-sub>.ant-menu-item,.ant-menu-vertical-right.ant-menu-sub>.ant-menu-submenu,.ant-menu-vertical.ant-menu-sub>.ant-menu-item,.ant-menu-vertical.ant-menu-sub>.ant-menu-submenu{-webkit-transform-origin:0 0;transform-origin:0 0}.ant-menu-horizontal.ant-menu-sub,.ant-menu-vertical-left.ant-menu-sub,.ant-menu-vertical-right.ant-menu-sub,.ant-menu-vertical.ant-menu-sub{min-width:160px}.ant-menu-item,.ant-menu-submenu-title{cursor:pointer;margin:0;padding:0 20px;position:relative;display:block;white-space:nowrap;transition:color .3s cubic-bezier(.645,.045,.355,1),border-color .3s cubic-bezier(.645,.045,.355,1),background .3s cubic-bezier(.645,.045,.355,1),padding .15s cubic-bezier(.645,.045,.355,1)}.ant-menu-item .anticon,.ant-menu-submenu-title .anticon{min-width:14px;margin-right:10px;font-size:14px;transition:font-size .15s cubic-bezier(.215,.61,.355,1),margin .3s cubic-bezier(.645,.045,.355,1)}.ant-menu-item .anticon+span,.ant-menu-submenu-title .anticon+span{transition:opacity .3s cubic-bezier(.645,.045,.355,1),width .3s cubic-bezier(.645,.045,.355,1);opacity:1}.ant-menu>.ant-menu-item-divider{height:1px;margin:1px 0;overflow:hidden;padding:0;line-height:0;background-color:#e8e8e8}.ant-menu-submenu-popup{position:absolute;border-radius:4px;z-index:1050}.ant-menu-submenu-popup .submenu-title-wrapper{padding-right:20px}.ant-menu-submenu-popup:before{position:absolute;top:-7px;left:-6px;right:-6px;bottom:0;content:" ";opacity:.0001}.ant-menu-submenu>.ant-menu{background-color:#fff;border-radius:4px}.ant-menu-submenu>.ant-menu-submenu-title:after{transition:-webkit-transform .3s cubic-bezier(.645,.045,.355,1);transition:transform .3s cubic-bezier(.645,.045,.355,1);transition:transform .3s cubic-bezier(.645,.045,.355,1),-webkit-transform .3s cubic-bezier(.645,.045,.355,1)}.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow,.ant-menu-submenu-vertical-left>.ant-menu-submenu-title .ant-menu-submenu-arrow,.ant-menu-submenu-vertical-right>.ant-menu-submenu-title .ant-menu-submenu-arrow,.ant-menu-submenu-vertical>.ant-menu-submenu-title .ant-menu-submenu-arrow{transition:-webkit-transform .3s cubic-bezier(.645,.045,.355,1);transition:transform .3s cubic-bezier(.645,.045,.355,1);transition:transform .3s cubic-bezier(.645,.045,.355,1),-webkit-transform .3s cubic-bezier(.645,.045,.355,1);position:absolute;top:50%;right:16px;width:10px}.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical-left>.ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical-left>.ant-menu-submenu-title .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical-right>.ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical-right>.ant-menu-submenu-title .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical>.ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical>.ant-menu-submenu-title .ant-menu-submenu-arrow:before{content:"";position:absolute;vertical-align:baseline;background:#fff;background-image:linear-gradient(90deg,rgba(0,0,0,.65),rgba(0,0,0,.65));width:6px;height:1.5px;border-radius:2px;transition:background .3s cubic-bezier(.645,.045,.355,1),top .3s cubic-bezier(.645,.045,.355,1),-webkit-transform .3s cubic-bezier(.645,.045,.355,1);transition:background .3s cubic-bezier(.645,.045,.355,1),transform .3s cubic-bezier(.645,.045,.355,1),top .3s cubic-bezier(.645,.045,.355,1);transition:background .3s cubic-bezier(.645,.045,.355,1),transform .3s cubic-bezier(.645,.045,.355,1),top .3s cubic-bezier(.645,.045,.355,1),-webkit-transform .3s cubic-bezier(.645,.045,.355,1)}.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical-left>.ant-menu-submenu-title .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical-right>.ant-menu-submenu-title .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical>.ant-menu-submenu-title .ant-menu-submenu-arrow:before{-webkit-transform:rotate(45deg) translateY(-2px);transform:rotate(45deg) translateY(-2px)}.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical-left>.ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical-right>.ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical>.ant-menu-submenu-title .ant-menu-submenu-arrow:after{-webkit-transform:rotate(-45deg) translateY(2px);transform:rotate(-45deg) translateY(2px)}.ant-menu-submenu-inline>.ant-menu-submenu-title:hover .ant-menu-submenu-arrow:after,.ant-menu-submenu-inline>.ant-menu-submenu-title:hover .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical-left>.ant-menu-submenu-title:hover .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical-left>.ant-menu-submenu-title:hover .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical-right>.ant-menu-submenu-title:hover .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical-right>.ant-menu-submenu-title:hover .ant-menu-submenu-arrow:before,.ant-menu-submenu-vertical>.ant-menu-submenu-title:hover .ant-menu-submenu-arrow:after,.ant-menu-submenu-vertical>.ant-menu-submenu-title:hover .ant-menu-submenu-arrow:before{background:linear-gradient(90deg,#1890ff,#1890ff)}.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow:before{-webkit-transform:rotate(-45deg) translateX(2px);transform:rotate(-45deg) translateX(2px)}.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow:after{-webkit-transform:rotate(45deg) translateX(-2px);transform:rotate(45deg) translateX(-2px)}.ant-menu-submenu-open.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow{-webkit-transform:translateY(-2px);transform:translateY(-2px)}.ant-menu-submenu-open.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow:after{-webkit-transform:rotate(-45deg) translateX(-2px);transform:rotate(-45deg) translateX(-2px)}.ant-menu-submenu-open.ant-menu-submenu-inline>.ant-menu-submenu-title .ant-menu-submenu-arrow:before{-webkit-transform:rotate(45deg) translateX(2px);transform:rotate(45deg) translateX(2px)}.ant-menu-vertical-left .ant-menu-submenu-selected,.ant-menu-vertical-left .ant-menu-submenu-selected>a,.ant-menu-vertical-right .ant-menu-submenu-selected,.ant-menu-vertical-right .ant-menu-submenu-selected>a,.ant-menu-vertical .ant-menu-submenu-selected,.ant-menu-vertical .ant-menu-submenu-selected>a{color:#1890ff}.ant-menu-horizontal{border:0;border-bottom:1px solid #e8e8e8;box-shadow:none;line-height:46px;white-space:nowrap}.ant-menu-horizontal>.ant-menu-item,.ant-menu-horizontal>.ant-menu-submenu{position:relative;top:1px;display:inline-block;vertical-align:bottom;border-bottom:2px solid transparent}.ant-menu-horizontal>.ant-menu-item-active,.ant-menu-horizontal>.ant-menu-item-open,.ant-menu-horizontal>.ant-menu-item-selected,.ant-menu-horizontal>.ant-menu-item:hover,.ant-menu-horizontal>.ant-menu-submenu-active,.ant-menu-horizontal>.ant-menu-submenu-open,.ant-menu-horizontal>.ant-menu-submenu-selected,.ant-menu-horizontal>.ant-menu-submenu:hover{border-bottom:2px solid #1890ff;color:#1890ff}.ant-menu-horizontal>.ant-menu-item>a{display:block;color:rgba(0,0,0,.65)}.ant-menu-horizontal>.ant-menu-item>a:hover{color:#1890ff}.ant-menu-horizontal>.ant-menu-item>a:before{bottom:-2px}.ant-menu-horizontal>.ant-menu-item-selected>a{color:#1890ff}.ant-menu-horizontal:after{content:" ";display:block;height:0;clear:both}.ant-menu-inline .ant-menu-item,.ant-menu-vertical-left .ant-menu-item,.ant-menu-vertical-right .ant-menu-item,.ant-menu-vertical .ant-menu-item{position:relative}.ant-menu-inline .ant-menu-item:after,.ant-menu-vertical-left .ant-menu-item:after,.ant-menu-vertical-right .ant-menu-item:after,.ant-menu-vertical .ant-menu-item:after{content:"";position:absolute;right:0;top:0;bottom:0;border-right:3px solid #1890ff;-webkit-transform:scaleY(.0001);transform:scaleY(.0001);opacity:0;transition:opacity .15s cubic-bezier(.215,.61,.355,1),-webkit-transform .15s cubic-bezier(.215,.61,.355,1);transition:transform .15s cubic-bezier(.215,.61,.355,1),opacity .15s cubic-bezier(.215,.61,.355,1);transition:transform .15s cubic-bezier(.215,.61,.355,1),opacity .15s cubic-bezier(.215,.61,.355,1),-webkit-transform .15s cubic-bezier(.215,.61,.355,1)}.ant-menu-inline .ant-menu-item,.ant-menu-inline .ant-menu-submenu-title,.ant-menu-vertical-left .ant-menu-item,.ant-menu-vertical-left .ant-menu-submenu-title,.ant-menu-vertical-right .ant-menu-item,.ant-menu-vertical-right .ant-menu-submenu-title,.ant-menu-vertical .ant-menu-item,.ant-menu-vertical .ant-menu-submenu-title{padding:0 16px;font-size:14px;line-height:40px;height:40px;margin-top:4px;margin-bottom:4px;overflow:hidden;text-overflow:ellipsis}.ant-menu-inline .ant-menu-submenu,.ant-menu-vertical-left .ant-menu-submenu,.ant-menu-vertical-right .ant-menu-submenu,.ant-menu-vertical .ant-menu-submenu{padding-bottom:.01px}.ant-menu-inline .ant-menu-item:not(:last-child),.ant-menu-vertical-left .ant-menu-item:not(:last-child),.ant-menu-vertical-right .ant-menu-item:not(:last-child),.ant-menu-vertical .ant-menu-item:not(:last-child){margin-bottom:8px}.ant-menu-inline>.ant-menu-item,.ant-menu-inline>.ant-menu-submenu>.ant-menu-submenu-title,.ant-menu-vertical-left>.ant-menu-item,.ant-menu-vertical-left>.ant-menu-submenu>.ant-menu-submenu-title,.ant-menu-vertical-right>.ant-menu-item,.ant-menu-vertical-right>.ant-menu-submenu>.ant-menu-submenu-title,.ant-menu-vertical>.ant-menu-item,.ant-menu-vertical>.ant-menu-submenu>.ant-menu-submenu-title{line-height:40px;height:40px}.ant-menu-inline{width:100%}.ant-menu-inline .ant-menu-item-selected:after,.ant-menu-inline .ant-menu-selected:after{transition:opacity .15s cubic-bezier(.645,.045,.355,1),-webkit-transform .15s cubic-bezier(.645,.045,.355,1);transition:transform .15s cubic-bezier(.645,.045,.355,1),opacity .15s cubic-bezier(.645,.045,.355,1);transition:transform .15s cubic-bezier(.645,.045,.355,1),opacity .15s cubic-bezier(.645,.045,.355,1),-webkit-transform .15s cubic-bezier(.645,.045,.355,1);opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}.ant-menu-inline .ant-menu-item,.ant-menu-inline .ant-menu-submenu-title{width:calc(100% + 1px)}.ant-menu-inline .ant-menu-submenu-title{padding-right:34px}.ant-menu-inline-collapsed{width:80px}.ant-menu-inline-collapsed>.ant-menu-item,.ant-menu-inline-collapsed>.ant-menu-item-group>.ant-menu-item-group-list>.ant-menu-item,.ant-menu-inline-collapsed>.ant-menu-item-group>.ant-menu-item-group-list>.ant-menu-submenu>.ant-menu-submenu-title,.ant-menu-inline-collapsed>.ant-menu-submenu>.ant-menu-submenu-title{left:0;text-overflow:clip;padding:0 32px!important}.ant-menu-inline-collapsed>.ant-menu-item-group>.ant-menu-item-group-list>.ant-menu-item .ant-menu-submenu-arrow,.ant-menu-inline-collapsed>.ant-menu-item-group>.ant-menu-item-group-list>.ant-menu-submenu>.ant-menu-submenu-title .ant-menu-submenu-arrow,.ant-menu-inline-collapsed>.ant-menu-item .ant-menu-submenu-arrow,.ant-menu-inline-collapsed>.ant-menu-submenu>.ant-menu-submenu-title .ant-menu-submenu-arrow{display:none}.ant-menu-inline-collapsed>.ant-menu-item-group>.ant-menu-item-group-list>.ant-menu-item .anticon,.ant-menu-inline-collapsed>.ant-menu-item-group>.ant-menu-item-group-list>.ant-menu-submenu>.ant-menu-submenu-title .anticon,.ant-menu-inline-collapsed>.ant-menu-item .anticon,.ant-menu-inline-collapsed>.ant-menu-submenu>.ant-menu-submenu-title .anticon{font-size:16px;line-height:40px;margin:0}.ant-menu-inline-collapsed>.ant-menu-item-group>.ant-menu-item-group-list>.ant-menu-item .anticon+span,.ant-menu-inline-collapsed>.ant-menu-item-group>.ant-menu-item-group-list>.ant-menu-submenu>.ant-menu-submenu-title .anticon+span,.ant-menu-inline-collapsed>.ant-menu-item .anticon+span,.ant-menu-inline-collapsed>.ant-menu-submenu>.ant-menu-submenu-title .anticon+span{max-width:0;display:inline-block;opacity:0}.ant-menu-inline-collapsed-tooltip{pointer-events:none}.ant-menu-inline-collapsed-tooltip .anticon{display:none}.ant-menu-inline-collapsed-tooltip a{color:hsla(0,0%,100%,.85)}.ant-menu-inline-collapsed .ant-menu-item-group-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-left:4px;padding-right:4px}.ant-menu-item-group-list{margin:0;padding:0}.ant-menu-item-group-list .ant-menu-item,.ant-menu-item-group-list .ant-menu-submenu-title{padding:0 16px 0 28px}.ant-menu-root.ant-menu-inline,.ant-menu-root.ant-menu-vertical,.ant-menu-root.ant-menu-vertical-left,.ant-menu-root.ant-menu-vertical-right{box-shadow:none}.ant-menu-sub.ant-menu-inline{padding:0;border:0;box-shadow:none;border-radius:0}.ant-menu-sub.ant-menu-inline>.ant-menu-item,.ant-menu-sub.ant-menu-inline>.ant-menu-submenu>.ant-menu-submenu-title{line-height:40px;height:40px;list-style-type:disc;list-style-position:inside}.ant-menu-sub.ant-menu-inline .ant-menu-item-group-title{padding-left:32px}.ant-menu-item-disabled,.ant-menu-submenu-disabled{color:rgba(0,0,0,.25)!important;cursor:not-allowed;background:none;border-color:transparent!important}.ant-menu-item-disabled>a,.ant-menu-submenu-disabled>a{color:rgba(0,0,0,.25)!important;pointer-events:none}.ant-menu-item-disabled>.ant-menu-submenu-title,.ant-menu-submenu-disabled>.ant-menu-submenu-title{color:rgba(0,0,0,.25)!important;cursor:not-allowed}.ant-menu-item-disabled>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-item-disabled>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before,.ant-menu-submenu-disabled>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-submenu-disabled>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before{background:rgba(0,0,0,.25)!important}.ant-menu-dark,.ant-menu-dark .ant-menu-sub{color:hsla(0,0%,100%,.65);background:#001529}.ant-menu-dark .ant-menu-sub .ant-menu-submenu-title .ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-title .ant-menu-submenu-arrow{opacity:.45;transition:all .3s}.ant-menu-dark .ant-menu-sub .ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-sub .ant-menu-submenu-title .ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-title .ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-title .ant-menu-submenu-arrow:before{background:#fff}.ant-menu-dark.ant-menu-submenu-popup{background:transparent}.ant-menu-dark .ant-menu-inline.ant-menu-sub{background:#000c17;box-shadow:inset 0 2px 8px rgba(0,0,0,.45)}.ant-menu-dark.ant-menu-horizontal{border-bottom:0}.ant-menu-dark.ant-menu-horizontal>.ant-menu-item,.ant-menu-dark.ant-menu-horizontal>.ant-menu-submenu{border-color:#001529;border-bottom:0;top:0;margin-top:0}.ant-menu-dark.ant-menu-horizontal>.ant-menu-item>a:before{bottom:0}.ant-menu-dark .ant-menu-item,.ant-menu-dark .ant-menu-item-group-title,.ant-menu-dark .ant-menu-item>a{color:hsla(0,0%,100%,.65)}.ant-menu-dark.ant-menu-inline,.ant-menu-dark.ant-menu-vertical,.ant-menu-dark.ant-menu-vertical-left,.ant-menu-dark.ant-menu-vertical-right{border-right:0}.ant-menu-dark.ant-menu-inline .ant-menu-item,.ant-menu-dark.ant-menu-vertical-left .ant-menu-item,.ant-menu-dark.ant-menu-vertical-right .ant-menu-item,.ant-menu-dark.ant-menu-vertical .ant-menu-item{border-right:0;margin-left:0;left:0}.ant-menu-dark.ant-menu-inline .ant-menu-item:after,.ant-menu-dark.ant-menu-vertical-left .ant-menu-item:after,.ant-menu-dark.ant-menu-vertical-right .ant-menu-item:after,.ant-menu-dark.ant-menu-vertical .ant-menu-item:after{border-right:0}.ant-menu-dark.ant-menu-inline .ant-menu-item,.ant-menu-dark.ant-menu-inline .ant-menu-submenu-title{width:100%}.ant-menu-dark .ant-menu-item-active,.ant-menu-dark .ant-menu-item:hover,.ant-menu-dark .ant-menu-submenu-active,.ant-menu-dark .ant-menu-submenu-open,.ant-menu-dark .ant-menu-submenu-selected,.ant-menu-dark .ant-menu-submenu-title:hover{background-color:transparent;color:#fff}.ant-menu-dark .ant-menu-item-active>a,.ant-menu-dark .ant-menu-item:hover>a,.ant-menu-dark .ant-menu-submenu-active>a,.ant-menu-dark .ant-menu-submenu-open>a,.ant-menu-dark .ant-menu-submenu-selected>a,.ant-menu-dark .ant-menu-submenu-title:hover>a{color:#fff}.ant-menu-dark .ant-menu-item-active>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-item-active>.ant-menu-submenu-title>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-item:hover>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-item:hover>.ant-menu-submenu-title>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-active>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-active>.ant-menu-submenu-title>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-open>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-open>.ant-menu-submenu-title>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-selected>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-selected>.ant-menu-submenu-title>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-title:hover>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow,.ant-menu-dark .ant-menu-submenu-title:hover>.ant-menu-submenu-title>.ant-menu-submenu-arrow{opacity:1}.ant-menu-dark .ant-menu-item-active>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-item-active>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-item-active>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-item-active>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-item:hover>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-item:hover>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-item:hover>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-item:hover>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-active>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-active>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-active>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-active>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-open>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-open>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-open>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-open>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-selected>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-selected>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-selected>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-selected>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-title:hover>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-title:hover>.ant-menu-submenu-title:hover>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-title:hover>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-title:hover>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before{background:#fff}.ant-menu-dark .ant-menu-item-selected{border-right:0;color:#fff}.ant-menu-dark .ant-menu-item-selected:after{border-right:0}.ant-menu-dark .ant-menu-item-selected>a,.ant-menu-dark .ant-menu-item-selected>a:hover{color:#fff}.ant-menu-submenu-popup.ant-menu-dark .ant-menu-item-selected,.ant-menu.ant-menu-dark .ant-menu-item-selected{background-color:#1890ff}.ant-menu-dark .ant-menu-item-disabled,.ant-menu-dark .ant-menu-item-disabled>a,.ant-menu-dark .ant-menu-submenu-disabled,.ant-menu-dark .ant-menu-submenu-disabled>a{opacity:.8;color:hsla(0,0%,100%,.35)!important}.ant-menu-dark .ant-menu-item-disabled>.ant-menu-submenu-title,.ant-menu-dark .ant-menu-submenu-disabled>.ant-menu-submenu-title{color:hsla(0,0%,100%,.35)!important}.ant-menu-dark .ant-menu-item-disabled>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-item-disabled>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before,.ant-menu-dark .ant-menu-submenu-disabled>.ant-menu-submenu-title>.ant-menu-submenu-arrow:after,.ant-menu-dark .ant-menu-submenu-disabled>.ant-menu-submenu-title>.ant-menu-submenu-arrow:before{background:hsla(0,0%,100%,.35)!important}',""])},906:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(913)),r=p(a(916)),o=p(a(13)),l=p(a(3)),i=p(a(8)),u=p(a(4)),s=p(a(5)),d=p(a(41));a(914),a(896),a(90);var c=a(1),m=p(c);function p(e){return e&&e.__esModule?e:{default:e}}a(907);var f=p(a(33)).default.base.NCButton,h=d.default.Group,g=function(e){function t(e){(0,l.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.createBtn=function(e){return e.map(function(e){if(e.isshow){if("btn"==e.divide)return m.default.createElement(f,{className:"divide-btn",key:e.code,colors:e.type,fieldid:e.fieldid,onClick:function(){a.props.onClick(e.code)}},e.name);if("select"==e.divide){var t=m.default.createElement(r.default,{onClick:function(){a.props.onClick(e.code)}},m.default.createElement(r.default.Item,{key:"1"},m.default.createElement("div",{fieldid:e.code},e.name)));return m.default.createElement(n.default,{overlay:t,trigger:["click"],overlayClassName:"fieldid_"+e.dropdownFieldid+"_list"},m.default.createElement(f,{className:"margin-left-1",key:e.code,colors:e.type,fieldid:e.fieldid,is_arrow:!0,style:{minWidth:18}},m.default.createElement("i",{className:"iconfont icon-hangcaozuoxiala1"})))}return m.default.createElement(f,{className:"margin-left-6 "+(e.className?e.className:""),key:e.code,colors:e.type,fieldid:e.fieldid,onClick:function(){a.props.onClick(e.code)}},e.name)}return null})},a.createBtnGroup=function(e){return e.length>0?m.default.createElement(h,null,a.createBtn(e)):null},a.createButton=function(e){var t=e.filter(function(e){return e.group}),n=e.filter(function(e){return!e.group});return m.default.createElement("div",null,a.createBtn(n),a.createBtnGroup(t))},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"buttons-component "+(this.props.className?this.props.className:"")},this.createButton(this.props.dataSource))}}]),t}(c.Component);t.default=g},907:function(e,t,a){var n=a(908);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(16)(n,r);n.locals&&(e.exports=n.locals)},908:function(e,t,a){(e.exports=a(14)(!1)).push([e.i,".buttons-component div{display:flex;align-items:center}.buttons-component .ant-btn-group{margin-left:6px}body .divide-btn{margin-left:6px;border-top-right-radius:0;border-bottom-right-radius:0}body .margin-left-1{margin-left:1px;width:18px;border-top-left-radius:0;border-bottom-left-radius:0;display:flex;justify-content:center;align-items:center;padding:0}body .margin-left-1 .iconfont{font-size:12px}",""])},909:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(192)),o=i(a(422)),l=a(34);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.appCode,a=(0,l.getStore)("APPICONSSTORE"),i=a&&a[t],u=r.default[i]?r.default[i]:o.default;return n.default.createElement("div",{style:{width:"24px",height:"24px",marginRight:"10px",background:"url("+u+") no-repeat 0px 0px",backgroundSize:"contain"}})}},938:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(a(426)),r=w(a(135)),o=w(a(425)),l=w(a(13)),i=w(a(3)),u=w(a(8)),s=w(a(4)),d=w(a(5)),c=a(1),m=w(c),p=a(29),f=a(890),h=a(865),g=w(a(27)),b=a(18),y=a(190),v=w(a(413)),k=w(a(136)),T=a(89);function w(e){return e&&e.__esModule?e:{default:e}}function C(e){var t=this,a=this.props,n=a.requestUrl,r=a.requestData,o=a.templetData,l=o.pagecode,i=o.appcode,u=o.templetid,s=n||"/nccloud/platform/templet/querypage.do",d=r||{pagecode:l,appcode:i,templetid:u};(0,g.default)({url:s,data:d,info:{name:(0,b.langCheck)("ZoneSetting-000028","pages",e),action:(0,b.langCheck)("ZoneSetting-000029","pages",e)},success:function(e){var a=e.data.data;a&&(t.props.meta.setMeta(a),r&&r.forEach(function(e){a[e.code]&&(a[e.code].position=e.position)}),t.props.updatePreviewData(a))}})}a(939);var x=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel(!1)},a.createDom=function(){var e=a.props,t=e.editTable,n=e.form,r=e.search,o=n.createForm,l=t.createEditTable,i=r.NCCreateSearch,u=a.state.all_keys,s=[];return u.length&&u.map(function(e,t){switch(e.myAreaType){case"form":s.push(m.default.createElement("div",{className:"viewTemplateArea",key:"form"+t},m.default.createElement("div",{className:"descrip"},m.default.createElement("span",{key:"forms"+t}," ▼ "),""+e.name),o(e.id)));break;case"table":s.push(m.default.createElement("div",{className:"viewTemplateArea",key:"table"+t,ref:""+e.id},m.default.createElement("div",{className:"descrip"},m.default.createElement("span",{key:"tables"+t}," ▼ "),""+e.name),l(e.id,{})));break;case"search":s.push(m.default.createElement("div",{className:"viewTemplateArea",key:"search"+t},m.default.createElement("div",{className:"descrip"},m.default.createElement("span",{key:"searchs"+t}," ▼ "),""+e.name),i(e.id)))}}),0==u.length?m.default.createElement(k.default,{style:{width:"100%",height:50}}):s},a.state={all_keys:[],json:{}},a}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.previewData){var t=e.previewData,a=[],l=!0,i=!1,u=void 0;try{for(var s,d=(0,r.default)((0,n.default)(t));!(l=(s=d.next()).done);l=!0){var c=s.value,m=(0,o.default)(c,2),p=(m[0],m[1]),f=p.moduletype,h=p.code,g=t.formrelation;"table"!==f&&"form"!==f&&"search"!==f||"form"===f&&g&&p.relationcode in g||a.push({id:h,name:p.name,myAreaType:f,position:p.position}),"form"===f&&this.props.form.setFormStatus(h,"edit"),"table"===f&&this.refs[h]&&(this.props.editTable.addRow(h),this.refs[h]=null)}}catch(e){i=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(i)throw u}}a&&a[0]&&a[0].position&&(a=(0,T.sortBy)(a,function(e){return e.position})),this.setState({all_keys:a})}}},{key:"componentDidMount",value:function(){var e=this;(0,y.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t}),C.call(e,t)}})}},{key:"render",value:function(){var e=this.state.json;return m.default.createElement(v.default,{maskClosable:!1,customHeader:(0,b.langCheck)("ZoneSetting-000121","pages",e),visible:this.props.previewVisibel,onOk:this.onOkDialog,onCancel:this.showModalHidden,width:"98%",className:"viewPageTem",centered:!0,footer:null,fieldid:"preview"},this.createDom())}}]),t}(c.Component);x=(0,h.createPage)({})(x),t.default=(0,p.connect)(function(e){return{areaList:e.zoneSettingData.areaList,previewData:e.zoneSettingData.previewData}},{updatePreviewData:f.updatePreviewData})(x)},939:function(e,t,a){var n=a(940);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(16)(n,r);n.locals&&(e.exports=n.locals)},940:function(e,t,a){(e.exports=a(14)(!1)).push([e.i,".viewPageTem .u-modal-content .u-modal-body{overflow:auto;padding:20px 0}.viewPageTem .u-modal-content .u-modal-body .printContent{padding:20px}.viewPageTem .u-modal-content .viewTemplateArea{padding:0 20px}",""])},941:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIsDefaultTem=t.setJson=t.setRoleUserDatas=t.setRoCheckedObjArray=t.setCopyId=t.setNodeKey=t.setTemplateTitleVal=t.setTemplateNameVal=t.setParentIdcon=t.setAppCode=t.setPageCode=t.setSearchValue=t.setTemplatePk=t.setSelectedTemKeys=t.setSelectedKeys=t.setExpandedKeys=t.setExpandedTemKeys=t.setDef1=t.setTreeTemPrintData=t.setTreeTemBillData=t.setTreeData=t.clearData=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(439));t.clearData=function(){return{type:n.CLEARDATA}},t.setTreeData=function(e){return{type:n.SETTREEDATA,data:e}},t.setTreeTemBillData=function(e){return{type:n.SETTREETEMBILLDATA,data:e}},t.setTreeTemPrintData=function(e){return{type:n.SETTREETEMPRINTDATA,data:e}},t.setDef1=function(e){return{type:n.SETDEF1,data:e}},t.setExpandedTemKeys=function(e){return{type:n.EXPANDEDTEMKEYS,data:e}},t.setExpandedKeys=function(e){return{type:n.EXPANDEDKEYS,data:e}},t.setSelectedKeys=function(e){return{type:n.SELECTEDKEYS,data:e}},t.setSelectedTemKeys=function(e){return{type:n.SELECTEDTEMKEYS,data:e}},t.setTemplatePk=function(e){return{type:n.TEMPLATEPK,data:e}},t.setSearchValue=function(e){return{type:n.SEARCHVALUE,data:e}},t.setPageCode=function(e){return{type:n.PAGECODE,data:e}},t.setAppCode=function(e){return{type:n.APPCODE,data:e}},t.setParentIdcon=function(e){return{type:n.PARENTIDCON,data:e}},t.setTemplateNameVal=function(e){return{type:n.TEMPLATENAMEVAL,data:e}},t.setTemplateTitleVal=function(e){return{type:n.TEMPLATETITLEVAL,data:e}},t.setNodeKey=function(e){return{type:n.NODEKEY,data:e}},t.setCopyId=function(e){return{type:n.COPYID,data:e}},t.setRoCheckedObjArray=function(e){return{type:n.ROCHECKEDOBJARRAY,data:e}},t.setRoleUserDatas=function(e){return{type:n.ROLEUSERDATAS,data:e}},t.setJson=function(e){return{type:n.JSON,data:e}},t.setIsDefaultTem=function(e){return{type:n.ISDEFAULTTEM,data:e}}},974:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var n=i(a(191));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.createElement(u,(0,n.default)(s,e))};var r=i(a(1)),o=a(865),l=a(18);function i(e){return e&&e.__esModule?e:{default:e}}var u=o.high.Refer,s=t.conf={placeholder:(0,l.langCheck)("0000PUB-000052"),rootNode:{refname:(0,l.langCheck)("0000PUB-000052"),refpk:"root"},refType:"tree",refName:(0,l.langCheck)("0000PUB-000053"),refCode:"uapbd.org.BusinessUnitAndGroupTreeRef",queryTreeUrl:"/nccloud/uapbd/ref/BusinessUnitAndGroupTreeRef.do",treeConfig:{name:[(0,l.langCheck)("0000PUB-000032"),(0,l.langCheck)("0000PUB-000033")],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:{queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",refName:(0,l.langCheck)("0000PUB-000054"),rootNode:{refname:(0,l.langCheck)("0000PUB-000054"),refpk:"root"}},isShowUnit:!1}},995:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(191),o=(n=r)&&n.__esModule?n:{default:n};t.generateData=function(e){var t=[],a={};return e.map(function(e,n){var r=e.pid,o=e.code,l=e.name;e.appCode,e.pk;e.children&&delete e.children,e.text=o+" "+l,e.title=e.text,e.key=o,r?(a[r]||(a[r]=[]),a[r].push(e)):(e.children=[],t.push(e))}),{treeArray:t,treeObj:a}},t.generateTemData=function(e){var t=[],a={},n=[],r=[];return e.map(function(e,t){var a=e.templateId,o=(e.parentId,e.name),l=(e.type,e.code);e.children&&delete e.children,e.key=a,e.text=l+" "+o,e.pk=a,n.push(a),r.push(e)}),r.map(function(e){var r=e.templateId;e.parentId,e.name,e.type,e.code;n.includes(e.parentId)?(a[r]=[],a[r].push(e)):(e.children=[],t.push(e))}),{treeArray:t,treeObj:a}},t.generateRoData=function(e){var t=[];return e.map(function(e,a){var n=e.code,r=e.id,o=e.name;e.key=r,e.text=n+" "+o,e.title=e.text,t.push(e)}),t},t.generateTreeData=function e(t){return t.map(function(t,a){return(t=(0,o.default)({},t)).children?(t.isLeaf=!1,t.children=e(t.children)):t.isLeaf=!0,t})}}}]);
//# sourceMappingURL=13.d42b4608.js.map