(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i,o=k(n(910)),l=k(n(2)),r=k(n(13)),s=k(n(3)),u=k(n(8)),c=k(n(4)),p=k(n(5));n(911);var d=n(1),f=k(d),m=n(29),g=k(n(975)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(865)),C=k(n(57)),v=k(n(27)),b=n(18),I=k(n(1319));function k(e){return e&&e.__esModule?e:{default:e}}var _=h.createPage,z=h.high.Refer,y=h.base.NCDiv,P=(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.call(n),n.state={key:"10220PLOG_customer",record:null,refItemValue:{refcode:"",refname:"",refpk:""}},n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){window["nc-lightapp-front"]=h}},{key:"render",value:function(){var e=this;if(!this.props.MutiInit.getIntl("Customize"))return null;var t=this.props,n=(t.search,t.table.createSimpleTable);return f.default.createElement(g.default,{title:this.props.title},f.default.createElement(y,{className:"commonData",areaCode:y.config.SEARCH},f.default.createElement(z,{refType:"grid",refName:(0,b.langCheck)("0000PUB-000085"),placeholder:(0,b.langCheck)("0000PUB-000084"),value:this.state.refItemValue,onChange:function(t){e.handdleRefChange(t)},refCode:"",queryGridUrl:"/nccloud/platform/appregister/freuseddataref.do",isMultiSelectedEnabled:!1,columnConfig:[{name:[(0,b.langCheck)("0000PUB-000032"),(0,b.langCheck)("0000PUB-000033")],code:["refcode","refname"]}],popWindowClassName:"commonDataRef",fieldid:"customer"}),this.props.MutiInit.getIntl("Customize")&&this.props.MutiInit.getIntl("Customize").get("Customize-000028")),this.state.refItemValue.refcode?n("grid",{onRowClick:this.onRowClick,handlePageInfoChange:this.handlePageInfoChange}):f.default.createElement("div",{className:"CoverPosition-content-treeCardTable"},f.default.createElement("img",{src:I.default,className:"commondataPlaceholder"})))}}]),t}(d.Component),i=function(){var e=this;this.handdleRefChange=function(t){if(t.refcode){var n=t.refcode.replace("bd_","10220PLOG_");e.setState({key:n,refItemValue:t},function(){e.searchBtnClick(t.refcode)})}else e.setState({refItemValue:{refcode:"",refname:"",refpk:""}})},this.onRowClick=function(t,n,a,i,o){console.log(a),e.setState({record:a})},this.handlePageInfoChange=function(e,t,n){},this.searchBtnClick=function(t){e.getData();var n=e.props.table.setAllTableData,a={tableName:t,pk_user:e.props.userId,pk_group:e.props.groupId};(0,v.default)({data:a,info:{name:e.props.MutiInit.getIntl("Customize")&&e.props.MutiInit.getIntl("Customize").get("Customize-000031"),action:e.props.MutiInit.getIntl("Customize")&&e.props.MutiInit.getIntl("Customize").get("Customize-000027"),appcode:"10220PLOGG"},url:"/nccloud/platform/freuseddata/queryfreuseddata.do",success:function(e){var t=e.data;t.data&&t.data.grid?n("grid",t.data.grid):n("grid",{rows:[]})}})},this.deleteEvent=function(t,n){console.log(t,n);var a=e.props.table,i=a.deleteTableRowsByIndex,o=a.getAllTableData,r=e.state.key,s={pk_user:e.props.userId,pk_group:e.props.groupId},u=o("grid").rows[n].values;switch(r){case"10220PLOG_customer":s=(0,l.default)({},s,{tableName:"bd_customer",pks:[u.pk_customer.value]});break;case"10220PLOG_material":s=(0,l.default)({},s,{tableName:"bd_material",pks:[u.pk_material.value]});break;case"10220PLOG_psndoc":s=(0,l.default)({},s,{tableName:"bd_psndoc",pks:[u.pk_psndoc.value]});break;case"10220PLOG_supplier":s=(0,l.default)({},s,{tableName:"bd_supplier",pks:[u.pk_supplier.value]})}(0,v.default)({url:"/nccloud/platform/freuseddata/deletefreuseddata.do",data:s,info:{name:e.props.MutiInit.getIntl("Customize")&&e.props.MutiInit.getIntl("Customize").get("Customize-000031"),appcode:"10220PLOGG",action:e.props.MutiInit.getIntl("Customize")&&e.props.MutiInit.getIntl("Customize").get("Customize-000025")},success:function(e){i("grid",n),(0,C.default)({status:"success"})}})},this.getData=function(){var t=e.state.key;(0,e.props.createUIDom)({appcode:"10220PLOGG",pagecode:t},e.callbackFun)},this.callbackFun=function(t){if(t){if(t.template){var n=t.template;n=e.modifier(n,e.props,e),e.props.meta.setMeta(n)}if(t.button){var a=t.button;e.props.button.setButtons(a)}}},this.modifier=function(t,n,a){e.state.key;var i={label:n.MutiInit.getIntl("Customize")&&n.MutiInit.getIntl("Customize").get("Customize-000018"),attrcode:"opr",itemtype:"customer",width:"80px",fixed:"right",visible:!0,render:function(e,t,i){return f.default.createElement("div",null,f.default.createElement(o.default,{title:n.MutiInit.getIntl("Customize")&&n.MutiInit.getIntl("Customize").get("Customize-000026"),cancelText:n.MutiInit.getIntl("Customize")&&n.MutiInit.getIntl("Customize").get("Customize-000008"),okText:n.MutiInit.getIntl("Customize")&&n.MutiInit.getIntl("Customize").get("Customize-000009"),onConfirm:a.deleteEvent.bind(this,t,i)},f.default.createElement("a",{className:"opr-col"},n.MutiInit.getIntl("Customize")&&n.MutiInit.getIntl("Customize").get("Customize-000013"))))}},l={label:n.MutiInit.getIntl("Customize")&&n.MutiInit.getIntl("Customize").get("Customize-000015"),attrcode:"num",itemtype:"customer",width:"80px",fixed:"left",visible:!0,render:function(e,t,n){return f.default.createElement("div",null,n+1)}};return t.grid.items.push(i),t.grid.items.unshift(l),t}},a),M=_({mutiLangCode:"Customize"})(P);t.default=(0,m.connect)(function(e){return{userId:e.appData.userId,groupId:e.appData.groupId}})(M)},1319:function(e,t,n){e.exports=n.p+"images/commondataPlaceholder.png"},910:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),o=n(3),l=n.n(o),r=n(8),s=n.n(r),u=n(4),c=n.n(u),p=n(5),d=n.n(p),f=n(1),m=n(42),g=n(58),h=n(15),C=n(41),v=n(111),b=n(95),I=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&(n[a[i]]=e[a[i]])}return n},k=function(e){function t(e){l()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(n,e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(n,e)},n.onVisibleChange=function(e){n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e){var t=n.props,a=t.prefixCls,i=t.title,o=t.cancelText,l=t.okText,r=t.okType,s=t.icon;return f.createElement("div",null,f.createElement("div",{className:a+"-inner-content"},f.createElement("div",{className:a+"-message"},s,f.createElement("div",{className:a+"-message-title"},i)),f.createElement("div",{className:a+"-buttons"},f.createElement(C.default,{onClick:n.onCancel,size:"small"},o||e.cancelText),f.createElement(C.default,{onClick:n.onConfirm,type:r,size:"small"},l||e.okText))))},n.state={visible:e.visible},n}return d()(t,e),s()(t,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.placement,a=I(e,["prefixCls","placement"]),o=f.createElement(v.a,{componentName:"Popconfirm",defaultLocale:b.a.Popconfirm},this.renderOverlay);return f.createElement(g.default,i()({},a,{prefixCls:t,placement:n,onVisibleChange:this.onVisibleChange,visible:this.state.visible,overlay:o,ref:this.saveTooltip}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}]),t}(f.Component);k.defaultProps={prefixCls:"ant-popover",transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:f.createElement(h.default,{type:"exclamation-circle",theme:"filled"})},Object(m.polyfill)(k),t.default=k},911:function(e,t,n){"use strict";n.r(t);n(26),n(139),n(90)},975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(13)),i=c(n(3)),o=c(n(8)),l=c(n(4)),r=c(n(5)),s=n(1),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,i.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,r.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"customize-page "+(this.props.className?this.props.className:"")},u.default.createElement("div",{className:"customize-content"},this.props.children))}}]),t}(s.Component);t.default=p}}]);
//# sourceMappingURL=28.50972553.js.map